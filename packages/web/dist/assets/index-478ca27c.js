var Ec=Object.defineProperty;var Sc=(e,t,r)=>t in e?Ec(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Pc=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ge=(e,t,r)=>(Sc(e,typeof t!="symbol"?t+"":t,r),r);var ag=Pc((Mt,Ft)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function ei(e,t){const r=Object.create(null),n=e.split(",");for(let s=0;s<n.length;s++)r[n[s]]=!0;return t?s=>!!r[s.toLowerCase()]:s=>!!r[s]}function ti(e){if(oe(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],s=Ue(n)?Tc(n):ti(n);if(s)for(const i in s)t[i]=s[i]}return t}else{if(Ue(e))return e;if(Ae(e))return e}}const Oc=/;(?![^(]*\))/g,Cc=/:([^]+)/,Nc=/\/\*.*?\*\//gs;function Tc(e){const t={};return e.replace(Nc,"").split(Oc).forEach(r=>{if(r){const n=r.split(Cc);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Jn(e){let t="";if(Ue(e))t=e;else if(oe(e))for(let r=0;r<e.length;r++){const n=Jn(e[r]);n&&(t+=n+" ")}else if(Ae(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Rc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ac=ei(Rc);function Da(e){return!!e||e===""}function Ic(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=Zn(e[n],t[n]);return r}function Zn(e,t){if(e===t)return!0;let r=_o(e),n=_o(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=en(e),n=en(t),r||n)return e===t;if(r=oe(e),n=oe(t),r||n)return r&&n?Ic(e,t):!1;if(r=Ae(e),n=Ae(t),r||n){if(!r||!n)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Zn(e[o],t[o]))return!1}}return String(e)===String(t)}function Ma(e,t){return e.findIndex(r=>Zn(r,t))}const jc=e=>Ue(e)?e:e==null?"":oe(e)||Ae(e)&&(e.toString===Va||!he(e.toString))?JSON.stringify(e,Fa,2):String(e),Fa=(e,t)=>t&&t.__v_isRef?Fa(e,t.value):wr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,s])=>(r[`${n} =>`]=s,r),{})}:Qn(t)?{[`Set(${t.size})`]:[...t.values()]}:Ae(t)&&!oe(t)&&!Ua(t)?String(t):t,Re={},br=[],$t=()=>{},kc=()=>!1,Dc=/^on[^a-z]/,Xn=e=>Dc.test(e),ri=e=>e.startsWith("onUpdate:"),Be=Object.assign,ni=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Mc=Object.prototype.hasOwnProperty,$e=(e,t)=>Mc.call(e,t),oe=Array.isArray,wr=e=>un(e)==="[object Map]",Qn=e=>un(e)==="[object Set]",_o=e=>un(e)==="[object Date]",he=e=>typeof e=="function",Ue=e=>typeof e=="string",en=e=>typeof e=="symbol",Ae=e=>e!==null&&typeof e=="object",La=e=>Ae(e)&&he(e.then)&&he(e.catch),Va=Object.prototype.toString,un=e=>Va.call(e),Fc=e=>un(e).slice(8,-1),Ua=e=>un(e)==="[object Object]",si=e=>Ue(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Rn=ei(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),es=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Lc=/-(\w)/g,Nr=es(e=>e.replace(Lc,(t,r)=>r?r.toUpperCase():"")),Vc=/\B([A-Z])/g,Ir=es(e=>e.replace(Vc,"-$1").toLowerCase()),qa=es(e=>e.charAt(0).toUpperCase()+e.slice(1)),ms=es(e=>e?`on${qa(e)}`:""),tn=(e,t)=>!Object.is(e,t),An=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Un=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},Uc=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let $o;const qc=()=>$o||($o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let yt;class Hc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=yt,!t&&yt&&(this.index=(yt.scopes||(yt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=yt;try{return yt=this,t()}finally{yt=r}}}on(){yt=this}off(){yt=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Kc(e,t=yt){t&&t.active&&t.effects.push(e)}function xc(){return yt}const ii=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Ha=e=>(e.w&Jt)>0,Ka=e=>(e.n&Jt)>0,zc=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Jt},Bc=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const s=t[n];Ha(s)&&!Ka(s)?s.delete(e):t[r++]=s,s.w&=~Jt,s.n&=~Jt}t.length=r}},js=new WeakMap;let xr=0,Jt=1;const ks=30;let gt;const dr=Symbol(""),Ds=Symbol("");class oi{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Kc(this,n)}run(){if(!this.active)return this.fn();let t=gt,r=Gt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=gt,gt=this,Gt=!0,Jt=1<<++xr,xr<=ks?zc(this):bo(this),this.fn()}finally{xr<=ks&&Bc(this),Jt=1<<--xr,gt=this.parent,Gt=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){gt===this?this.deferStop=!0:this.active&&(bo(this),this.onStop&&this.onStop(),this.active=!1)}}function bo(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let Gt=!0;const xa=[];function jr(){xa.push(Gt),Gt=!1}function kr(){const e=xa.pop();Gt=e===void 0?!0:e}function rt(e,t,r){if(Gt&&gt){let n=js.get(e);n||js.set(e,n=new Map);let s=n.get(r);s||n.set(r,s=ii()),za(s)}}function za(e,t){let r=!1;xr<=ks?Ka(e)||(e.n|=Jt,r=!Ha(e)):r=!e.has(gt),r&&(e.add(gt),gt.deps.push(e))}function Vt(e,t,r,n,s,i){const o=js.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(r==="length"&&oe(e)){const l=Number(n);o.forEach((f,c)=>{(c==="length"||c>=l)&&a.push(f)})}else switch(r!==void 0&&a.push(o.get(r)),t){case"add":oe(e)?si(r)&&a.push(o.get("length")):(a.push(o.get(dr)),wr(e)&&a.push(o.get(Ds)));break;case"delete":oe(e)||(a.push(o.get(dr)),wr(e)&&a.push(o.get(Ds)));break;case"set":wr(e)&&a.push(o.get(dr));break}if(a.length===1)a[0]&&Ms(a[0]);else{const l=[];for(const f of a)f&&l.push(...f);Ms(ii(l))}}function Ms(e,t){const r=oe(e)?e:[...e];for(const n of r)n.computed&&wo(n);for(const n of r)n.computed||wo(n)}function wo(e,t){(e!==gt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Yc=ei("__proto__,__v_isRef,__isVue"),Ba=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(en)),Gc=ai(),Wc=ai(!1,!0),Jc=ai(!0),Eo=Zc();function Zc(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=Se(this);for(let i=0,o=this.length;i<o;i++)rt(n,"get",i+"");const s=n[t](...r);return s===-1||s===!1?n[t](...r.map(Se)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){jr();const n=Se(this)[t].apply(this,r);return kr(),n}}),e}function Xc(e){const t=Se(this);return rt(t,"has",e),t.hasOwnProperty(e)}function ai(e=!1,t=!1){return function(n,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?pu:Za:t?Ja:Wa).get(n))return n;const o=oe(n);if(!e){if(o&&$e(Eo,s))return Reflect.get(Eo,s,i);if(s==="hasOwnProperty")return Xc}const a=Reflect.get(n,s,i);return(en(s)?Ba.has(s):Yc(s))||(e||rt(n,"get",s),t)?a:ze(a)?o&&si(s)?a:a.value:Ae(a)?e?Xa(a):ui(a):a}}const Qc=Ya(),eu=Ya(!0);function Ya(e=!1){return function(r,n,s,i){let o=r[n];if(Tr(o)&&ze(o)&&!ze(s))return!1;if(!e&&(!qn(s)&&!Tr(s)&&(o=Se(o),s=Se(s)),!oe(r)&&ze(o)&&!ze(s)))return o.value=s,!0;const a=oe(r)&&si(n)?Number(n)<r.length:$e(r,n),l=Reflect.set(r,n,s,i);return r===Se(i)&&(a?tn(s,o)&&Vt(r,"set",n,s):Vt(r,"add",n,s)),l}}function tu(e,t){const r=$e(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&Vt(e,"delete",t,void 0),n}function ru(e,t){const r=Reflect.has(e,t);return(!en(t)||!Ba.has(t))&&rt(e,"has",t),r}function nu(e){return rt(e,"iterate",oe(e)?"length":dr),Reflect.ownKeys(e)}const Ga={get:Gc,set:Qc,deleteProperty:tu,has:ru,ownKeys:nu},su={get:Jc,set(e,t){return!0},deleteProperty(e,t){return!0}},iu=Be({},Ga,{get:Wc,set:eu}),li=e=>e,ts=e=>Reflect.getPrototypeOf(e);function yn(e,t,r=!1,n=!1){e=e.__v_raw;const s=Se(e),i=Se(t);r||(t!==i&&rt(s,"get",t),rt(s,"get",i));const{has:o}=ts(s),a=n?li:r?di:rn;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function gn(e,t=!1){const r=this.__v_raw,n=Se(r),s=Se(e);return t||(e!==s&&rt(n,"has",e),rt(n,"has",s)),e===s?r.has(e):r.has(e)||r.has(s)}function vn(e,t=!1){return e=e.__v_raw,!t&&rt(Se(e),"iterate",dr),Reflect.get(e,"size",e)}function So(e){e=Se(e);const t=Se(this);return ts(t).has.call(t,e)||(t.add(e),Vt(t,"add",e,e)),this}function Po(e,t){t=Se(t);const r=Se(this),{has:n,get:s}=ts(r);let i=n.call(r,e);i||(e=Se(e),i=n.call(r,e));const o=s.call(r,e);return r.set(e,t),i?tn(t,o)&&Vt(r,"set",e,t):Vt(r,"add",e,t),this}function Oo(e){const t=Se(this),{has:r,get:n}=ts(t);let s=r.call(t,e);s||(e=Se(e),s=r.call(t,e)),n&&n.call(t,e);const i=t.delete(e);return s&&Vt(t,"delete",e,void 0),i}function Co(){const e=Se(this),t=e.size!==0,r=e.clear();return t&&Vt(e,"clear",void 0,void 0),r}function _n(e,t){return function(n,s){const i=this,o=i.__v_raw,a=Se(o),l=t?li:e?di:rn;return!e&&rt(a,"iterate",dr),o.forEach((f,c)=>n.call(s,l(f),l(c),i))}}function $n(e,t,r){return function(...n){const s=this.__v_raw,i=Se(s),o=wr(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,f=s[e](...n),c=r?li:t?di:rn;return!t&&rt(i,"iterate",l?Ds:dr),{next(){const{value:d,done:_}=f.next();return _?{value:d,done:_}:{value:a?[c(d[0]),c(d[1])]:c(d),done:_}},[Symbol.iterator](){return this}}}}function xt(e){return function(...t){return e==="delete"?!1:this}}function ou(){const e={get(i){return yn(this,i)},get size(){return vn(this)},has:gn,add:So,set:Po,delete:Oo,clear:Co,forEach:_n(!1,!1)},t={get(i){return yn(this,i,!1,!0)},get size(){return vn(this)},has:gn,add:So,set:Po,delete:Oo,clear:Co,forEach:_n(!1,!0)},r={get(i){return yn(this,i,!0)},get size(){return vn(this,!0)},has(i){return gn.call(this,i,!0)},add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear"),forEach:_n(!0,!1)},n={get(i){return yn(this,i,!0,!0)},get size(){return vn(this,!0)},has(i){return gn.call(this,i,!0)},add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear"),forEach:_n(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=$n(i,!1,!1),r[i]=$n(i,!0,!1),t[i]=$n(i,!1,!0),n[i]=$n(i,!0,!0)}),[e,r,t,n]}const[au,lu,cu,uu]=ou();function ci(e,t){const r=t?e?uu:cu:e?lu:au;return(n,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get($e(r,s)&&s in n?r:n,s,i)}const fu={get:ci(!1,!1)},du={get:ci(!1,!0)},hu={get:ci(!0,!1)},Wa=new WeakMap,Ja=new WeakMap,Za=new WeakMap,pu=new WeakMap;function mu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yu(e){return e.__v_skip||!Object.isExtensible(e)?0:mu(Fc(e))}function ui(e){return Tr(e)?e:fi(e,!1,Ga,fu,Wa)}function gu(e){return fi(e,!1,iu,du,Ja)}function Xa(e){return fi(e,!0,su,hu,Za)}function fi(e,t,r,n,s){if(!Ae(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=yu(e);if(o===0)return e;const a=new Proxy(e,o===2?n:r);return s.set(e,a),a}function Er(e){return Tr(e)?Er(e.__v_raw):!!(e&&e.__v_isReactive)}function Tr(e){return!!(e&&e.__v_isReadonly)}function qn(e){return!!(e&&e.__v_isShallow)}function Qa(e){return Er(e)||Tr(e)}function Se(e){const t=e&&e.__v_raw;return t?Se(t):e}function el(e){return Un(e,"__v_skip",!0),e}const rn=e=>Ae(e)?ui(e):e,di=e=>Ae(e)?Xa(e):e;function tl(e){Gt&&gt&&(e=Se(e),za(e.dep||(e.dep=ii())))}function rl(e,t){e=Se(e);const r=e.dep;r&&Ms(r)}function ze(e){return!!(e&&e.__v_isRef===!0)}function nn(e){return vu(e,!1)}function vu(e,t){return ze(e)?e:new _u(e,t)}class _u{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Se(t),this._value=r?t:rn(t)}get value(){return tl(this),this._value}set value(t){const r=this.__v_isShallow||qn(t)||Tr(t);t=r?t:Se(t),tn(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:rn(t),rl(this))}}function nl(e){return ze(e)?e.value:e}const $u={get:(e,t,r)=>nl(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const s=e[t];return ze(s)&&!ze(r)?(s.value=r,!0):Reflect.set(e,t,r,n)}};function sl(e){return Er(e)?e:new Proxy(e,$u)}var il;class bu{constructor(t,r,n,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[il]=!1,this._dirty=!0,this.effect=new oi(t,()=>{this._dirty||(this._dirty=!0,rl(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const t=Se(this);return tl(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}il="__v_isReadonly";function wu(e,t,r=!1){let n,s;const i=he(e);return i?(n=e,s=$t):(n=e.get,s=e.set),new bu(n,s,i||!s,r)}function Wt(e,t,r,n){let s;try{s=n?e(...n):e()}catch(i){rs(i,t,r)}return s}function ft(e,t,r,n){if(he(e)){const i=Wt(e,t,r,n);return i&&La(i)&&i.catch(o=>{rs(o,t,r)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(ft(e[i],t,r,n));return s}function rs(e,t,r,n=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=r;for(;i;){const f=i.ec;if(f){for(let c=0;c<f.length;c++)if(f[c](e,o,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){Wt(l,null,10,[e,o,a]);return}}Eu(e,r,s,n)}function Eu(e,t,r,n=!0){console.error(e)}let sn=!1,Fs=!1;const xe=[];let Tt=0;const Sr=[];let Dt=null,or=0;const ol=Promise.resolve();let hi=null;function Su(e){const t=hi||ol;return e?t.then(this?e.bind(this):e):t}function Pu(e){let t=Tt+1,r=xe.length;for(;t<r;){const n=t+r>>>1;on(xe[n])<e?t=n+1:r=n}return t}function pi(e){(!xe.length||!xe.includes(e,sn&&e.allowRecurse?Tt+1:Tt))&&(e.id==null?xe.push(e):xe.splice(Pu(e.id),0,e),al())}function al(){!sn&&!Fs&&(Fs=!0,hi=ol.then(cl))}function Ou(e){const t=xe.indexOf(e);t>Tt&&xe.splice(t,1)}function Cu(e){oe(e)?Sr.push(...e):(!Dt||!Dt.includes(e,e.allowRecurse?or+1:or))&&Sr.push(e),al()}function No(e,t=sn?Tt+1:0){for(;t<xe.length;t++){const r=xe[t];r&&r.pre&&(xe.splice(t,1),t--,r())}}function ll(e){if(Sr.length){const t=[...new Set(Sr)];if(Sr.length=0,Dt){Dt.push(...t);return}for(Dt=t,Dt.sort((r,n)=>on(r)-on(n)),or=0;or<Dt.length;or++)Dt[or]();Dt=null,or=0}}const on=e=>e.id==null?1/0:e.id,Nu=(e,t)=>{const r=on(e)-on(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function cl(e){Fs=!1,sn=!0,xe.sort(Nu);const t=$t;try{for(Tt=0;Tt<xe.length;Tt++){const r=xe[Tt];r&&r.active!==!1&&Wt(r,null,14)}}finally{Tt=0,xe.length=0,ll(),sn=!1,hi=null,(xe.length||Sr.length)&&cl()}}function Tu(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Re;let s=r;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in n){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:_}=n[c]||Re;_&&(s=r.map(b=>Ue(b)?b.trim():b)),d&&(s=r.map(Uc))}let a,l=n[a=ms(t)]||n[a=ms(Nr(t))];!l&&i&&(l=n[a=ms(Ir(t))]),l&&ft(l,e,6,s);const f=n[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ft(f,e,6,s)}}function ul(e,t,r=!1){const n=t.emitsCache,s=n.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!he(e)){const l=f=>{const c=ul(f,t,!0);c&&(a=!0,Be(o,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(Ae(e)&&n.set(e,null),null):(oe(i)?i.forEach(l=>o[l]=null):Be(o,i),Ae(e)&&n.set(e,o),o)}function ns(e,t){return!e||!Xn(t)?!1:(t=t.slice(2).replace(/Once$/,""),$e(e,t[0].toLowerCase()+t.slice(1))||$e(e,Ir(t))||$e(e,t))}let ut=null,fl=null;function Hn(e){const t=ut;return ut=e,fl=e&&e.type.__scopeId||null,t}function Ru(e,t=ut,r){if(!t||e._n)return e;const n=(...s)=>{n._d&&Fo(-1);const i=Hn(t);let o;try{o=e(...s)}finally{Hn(i),n._d&&Fo(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function ys(e){const{type:t,vnode:r,proxy:n,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:f,render:c,renderCache:d,data:_,setupState:b,ctx:$,inheritAttrs:w}=e;let v,g;const C=Hn(e);try{if(r.shapeFlag&4){const R=s||n;v=Nt(c.call(R,R,d,i,b,_,$)),g=l}else{const R=t;v=Nt(R.length>1?R(i,{attrs:l,slots:a,emit:f}):R(i,null)),g=t.props?l:Au(l)}}catch(R){Yr.length=0,rs(R,e,1),v=it(bt)}let y=v;if(g&&w!==!1){const R=Object.keys(g),{shapeFlag:U}=y;R.length&&U&7&&(o&&R.some(ri)&&(g=Iu(g,o)),y=Zt(y,g))}return r.dirs&&(y=Zt(y),y.dirs=y.dirs?y.dirs.concat(r.dirs):r.dirs),r.transition&&(y.transition=r.transition),v=y,Hn(C),v}const Au=e=>{let t;for(const r in e)(r==="class"||r==="style"||Xn(r))&&((t||(t={}))[r]=e[r]);return t},Iu=(e,t)=>{const r={};for(const n in e)(!ri(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function ju(e,t,r){const{props:n,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?To(n,o,f):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const _=c[d];if(o[_]!==n[_]&&!ns(f,_))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?To(n,o,f):!0:!!o;return!1}function To(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(t[i]!==e[i]&&!ns(r,i))return!0}return!1}function ku({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const Du=e=>e.__isSuspense;function Mu(e,t){t&&t.pendingBranch?oe(e)?t.effects.push(...e):t.effects.push(e):Cu(e)}function Fu(e,t){if(Le){let r=Le.provides;const n=Le.parent&&Le.parent.provides;n===r&&(r=Le.provides=Object.create(n)),r[e]=t}}function In(e,t,r=!1){const n=Le||ut;if(n){const s=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return r&&he(t)?t.call(n.proxy):t}}const bn={};function gs(e,t,r){return dl(e,t,r)}function dl(e,t,{immediate:r,deep:n,flush:s,onTrack:i,onTrigger:o}=Re){const a=xc()===(Le==null?void 0:Le.scope)?Le:null;let l,f=!1,c=!1;if(ze(e)?(l=()=>e.value,f=qn(e)):Er(e)?(l=()=>e,n=!0):oe(e)?(c=!0,f=e.some(y=>Er(y)||qn(y)),l=()=>e.map(y=>{if(ze(y))return y.value;if(Er(y))return fr(y);if(he(y))return Wt(y,a,2)})):he(e)?t?l=()=>Wt(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return d&&d(),ft(e,a,3,[_])}:l=$t,t&&n){const y=l;l=()=>fr(y())}let d,_=y=>{d=g.onStop=()=>{Wt(y,a,4)}},b;if(ln)if(_=$t,t?r&&ft(t,a,3,[l(),c?[]:void 0,_]):l(),s==="sync"){const y=Mf();b=y.__watcherHandles||(y.__watcherHandles=[])}else return $t;let $=c?new Array(e.length).fill(bn):bn;const w=()=>{if(g.active)if(t){const y=g.run();(n||f||(c?y.some((R,U)=>tn(R,$[U])):tn(y,$)))&&(d&&d(),ft(t,a,3,[y,$===bn?void 0:c&&$[0]===bn?[]:$,_]),$=y)}else g.run()};w.allowRecurse=!!t;let v;s==="sync"?v=w:s==="post"?v=()=>Qe(w,a&&a.suspense):(w.pre=!0,a&&(w.id=a.uid),v=()=>pi(w));const g=new oi(l,v);t?r?w():$=g.run():s==="post"?Qe(g.run.bind(g),a&&a.suspense):g.run();const C=()=>{g.stop(),a&&a.scope&&ni(a.scope.effects,g)};return b&&b.push(C),C}function Lu(e,t,r){const n=this.proxy,s=Ue(e)?e.includes(".")?hl(n,e):()=>n[e]:e.bind(n,n);let i;he(t)?i=t:(i=t.handler,r=t);const o=Le;Rr(this);const a=dl(s,i.bind(n),r);return o?Rr(o):pr(),a}function hl(e,t){const r=t.split(".");return()=>{let n=e;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function fr(e,t){if(!Ae(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ze(e))fr(e.value,t);else if(oe(e))for(let r=0;r<e.length;r++)fr(e[r],t);else if(Qn(e)||wr(e))e.forEach(r=>{fr(r,t)});else if(Ua(e))for(const r in e)fr(e[r],t);return e}function Vu(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return mi(()=>{e.isMounted=!0}),gl(()=>{e.isUnmounting=!0}),e}const at=[Function,Array],Uu={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:at,onEnter:at,onAfterEnter:at,onEnterCancelled:at,onBeforeLeave:at,onLeave:at,onAfterLeave:at,onLeaveCancelled:at,onBeforeAppear:at,onAppear:at,onAfterAppear:at,onAppearCancelled:at},setup(e,{slots:t}){const r=Nf(),n=Vu();let s;return()=>{const i=t.default&&ml(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const w of i)if(w.type!==bt){o=w;break}}const a=Se(e),{mode:l}=a;if(n.isLeaving)return vs(o);const f=Ro(o);if(!f)return vs(o);const c=Ls(f,a,n,r);Vs(f,c);const d=r.subTree,_=d&&Ro(d);let b=!1;const{getTransitionKey:$}=f.type;if($){const w=$();s===void 0?s=w:w!==s&&(s=w,b=!0)}if(_&&_.type!==bt&&(!ar(f,_)||b)){const w=Ls(_,a,n,r);if(Vs(_,w),l==="out-in")return n.isLeaving=!0,w.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},vs(o);l==="in-out"&&f.type!==bt&&(w.delayLeave=(v,g,C)=>{const y=pl(n,_);y[String(_.key)]=_,v._leaveCb=()=>{g(),v._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=C})}return o}}},qu=Uu;function pl(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function Ls(e,t,r,n){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:f,onEnterCancelled:c,onBeforeLeave:d,onLeave:_,onAfterLeave:b,onLeaveCancelled:$,onBeforeAppear:w,onAppear:v,onAfterAppear:g,onAppearCancelled:C}=t,y=String(e.key),R=pl(r,e),U=(M,W)=>{M&&ft(M,n,9,W)},T=(M,W)=>{const Z=W[1];U(M,W),oe(M)?M.every(ie=>ie.length<=1)&&Z():M.length<=1&&Z()},I={mode:i,persisted:o,beforeEnter(M){let W=a;if(!r.isMounted)if(s)W=w||a;else return;M._leaveCb&&M._leaveCb(!0);const Z=R[y];Z&&ar(e,Z)&&Z.el._leaveCb&&Z.el._leaveCb(),U(W,[M])},enter(M){let W=l,Z=f,ie=c;if(!r.isMounted)if(s)W=v||l,Z=g||f,ie=C||c;else return;let re=!1;const fe=M._enterCb=de=>{re||(re=!0,de?U(ie,[M]):U(Z,[M]),I.delayedLeave&&I.delayedLeave(),M._enterCb=void 0)};W?T(W,[M,fe]):fe()},leave(M,W){const Z=String(e.key);if(M._enterCb&&M._enterCb(!0),r.isUnmounting)return W();U(d,[M]);let ie=!1;const re=M._leaveCb=fe=>{ie||(ie=!0,W(),fe?U($,[M]):U(b,[M]),M._leaveCb=void 0,R[Z]===e&&delete R[Z])};R[Z]=e,_?T(_,[M,re]):re()},clone(M){return Ls(M,t,r,n)}};return I}function vs(e){if(ss(e))return e=Zt(e),e.children=null,e}function Ro(e){return ss(e)?e.children?e.children[0]:void 0:e}function Vs(e,t){e.shapeFlag&6&&e.component?Vs(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ml(e,t=!1,r){let n=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===ct?(o.patchFlag&128&&s++,n=n.concat(ml(o.children,t,a))):(t||o.type!==bt)&&n.push(a!=null?Zt(o,{key:a}):o)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function fn(e){return he(e)?{setup:e,name:e.name}:e}const jn=e=>!!e.type.__asyncLoader,ss=e=>e.type.__isKeepAlive;function Hu(e,t){yl(e,"a",t)}function Ku(e,t){yl(e,"da",t)}function yl(e,t,r=Le){const n=e.__wdc||(e.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(is(t,n,r),r){let s=r.parent;for(;s&&s.parent;)ss(s.parent.vnode)&&xu(n,t,r,s),s=s.parent}}function xu(e,t,r,n){const s=is(t,e,n,!0);vl(()=>{ni(n[t],s)},r)}function is(e,t,r=Le,n=!1){if(r){const s=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(r.isUnmounted)return;jr(),Rr(r);const a=ft(t,r,e,o);return pr(),kr(),a});return n?s.unshift(i):s.push(i),i}}const qt=e=>(t,r=Le)=>(!ln||e==="sp")&&is(e,(...n)=>t(...n),r),zu=qt("bm"),mi=qt("m"),Bu=qt("bu"),Yu=qt("u"),gl=qt("bum"),vl=qt("um"),Gu=qt("sp"),Wu=qt("rtg"),Ju=qt("rtc");function Zu(e,t=Le){is("ec",e,t)}function Xu(e,t){const r=ut;if(r===null)return e;const n=ls(r)||r.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,l,f=Re]=t[i];o&&(he(o)&&(o={mounted:o,updated:o}),o.deep&&fr(a),s.push({dir:o,instance:n,value:a,oldValue:void 0,arg:l,modifiers:f}))}return e}function tr(e,t,r,n){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(jr(),ft(l,r,8,[e.el,a,e,t]),kr())}}const Qu=Symbol();function ef(e,t,r,n){let s;const i=r&&r[n];if(oe(e)||Ue(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(Ae(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const f=o[a];s[a]=t(e[f],f,a,i&&i[a])}}else s=[];return r&&(r[n]=s),s}const Us=e=>e?Rl(e)?ls(e)||e.proxy:Us(e.parent):null,Br=Be(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Us(e.parent),$root:e=>Us(e.root),$emit:e=>e.emit,$options:e=>yi(e),$forceUpdate:e=>e.f||(e.f=()=>pi(e.update)),$nextTick:e=>e.n||(e.n=Su.bind(e.proxy)),$watch:e=>Lu.bind(e)}),_s=(e,t)=>e!==Re&&!e.__isScriptSetup&&$e(e,t),tf={get({_:e},t){const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let f;if(t[0]!=="$"){const b=o[t];if(b!==void 0)switch(b){case 1:return n[t];case 2:return s[t];case 4:return r[t];case 3:return i[t]}else{if(_s(n,t))return o[t]=1,n[t];if(s!==Re&&$e(s,t))return o[t]=2,s[t];if((f=e.propsOptions[0])&&$e(f,t))return o[t]=3,i[t];if(r!==Re&&$e(r,t))return o[t]=4,r[t];qs&&(o[t]=0)}}const c=Br[t];let d,_;if(c)return t==="$attrs"&&rt(e,"get",t),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(r!==Re&&$e(r,t))return o[t]=4,r[t];if(_=l.config.globalProperties,$e(_,t))return _[t]},set({_:e},t,r){const{data:n,setupState:s,ctx:i}=e;return _s(s,t)?(s[t]=r,!0):n!==Re&&$e(n,t)?(n[t]=r,!0):$e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:s,propsOptions:i}},o){let a;return!!r[o]||e!==Re&&$e(e,o)||_s(t,o)||(a=i[0])&&$e(a,o)||$e(n,o)||$e(Br,o)||$e(s.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:$e(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};let qs=!0;function rf(e){const t=yi(e),r=e.proxy,n=e.ctx;qs=!1,t.beforeCreate&&Ao(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:f,created:c,beforeMount:d,mounted:_,beforeUpdate:b,updated:$,activated:w,deactivated:v,beforeDestroy:g,beforeUnmount:C,destroyed:y,unmounted:R,render:U,renderTracked:T,renderTriggered:I,errorCaptured:M,serverPrefetch:W,expose:Z,inheritAttrs:ie,components:re,directives:fe,filters:de}=t;if(f&&nf(f,n,null,e.appContext.config.unwrapInjectedRef),o)for(const we in o){const ye=o[we];he(ye)&&(n[we]=ye.bind(r))}if(s){const we=s.call(r,r);Ae(we)&&(e.data=ui(we))}if(qs=!0,i)for(const we in i){const ye=i[we],Ke=he(ye)?ye.bind(r,r):he(ye.get)?ye.get.bind(r,r):$t,B=!he(ye)&&he(ye.set)?ye.set.bind(r):$t,A=kf({get:Ke,set:B});Object.defineProperty(n,we,{enumerable:!0,configurable:!0,get:()=>A.value,set:H=>A.value=H})}if(a)for(const we in a)_l(a[we],n,r,we);if(l){const we=he(l)?l.call(r):l;Reflect.ownKeys(we).forEach(ye=>{Fu(ye,we[ye])})}c&&Ao(c,e,"c");function Oe(we,ye){oe(ye)?ye.forEach(Ke=>we(Ke.bind(r))):ye&&we(ye.bind(r))}if(Oe(zu,d),Oe(mi,_),Oe(Bu,b),Oe(Yu,$),Oe(Hu,w),Oe(Ku,v),Oe(Zu,M),Oe(Ju,T),Oe(Wu,I),Oe(gl,C),Oe(vl,R),Oe(Gu,W),oe(Z))if(Z.length){const we=e.exposed||(e.exposed={});Z.forEach(ye=>{Object.defineProperty(we,ye,{get:()=>r[ye],set:Ke=>r[ye]=Ke})})}else e.exposed||(e.exposed={});U&&e.render===$t&&(e.render=U),ie!=null&&(e.inheritAttrs=ie),re&&(e.components=re),fe&&(e.directives=fe)}function nf(e,t,r=$t,n=!1){oe(e)&&(e=Hs(e));for(const s in e){const i=e[s];let o;Ae(i)?"default"in i?o=In(i.from||s,i.default,!0):o=In(i.from||s):o=In(i),ze(o)&&n?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function Ao(e,t,r){ft(oe(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function _l(e,t,r,n){const s=n.includes(".")?hl(r,n):()=>r[n];if(Ue(e)){const i=t[e];he(i)&&gs(s,i)}else if(he(e))gs(s,e.bind(r));else if(Ae(e))if(oe(e))e.forEach(i=>_l(i,t,r,n));else{const i=he(e.handler)?e.handler.bind(r):t[e.handler];he(i)&&gs(s,i,e)}}function yi(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!r&&!n?l=t:(l={},s.length&&s.forEach(f=>Kn(l,f,o,!0)),Kn(l,t,o)),Ae(t)&&i.set(t,l),l}function Kn(e,t,r,n=!1){const{mixins:s,extends:i}=t;i&&Kn(e,i,r,!0),s&&s.forEach(o=>Kn(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const a=sf[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const sf={data:Io,props:ir,emits:ir,methods:ir,computed:ir,beforeCreate:We,created:We,beforeMount:We,mounted:We,beforeUpdate:We,updated:We,beforeDestroy:We,beforeUnmount:We,destroyed:We,unmounted:We,activated:We,deactivated:We,errorCaptured:We,serverPrefetch:We,components:ir,directives:ir,watch:af,provide:Io,inject:of};function Io(e,t){return t?e?function(){return Be(he(e)?e.call(this,this):e,he(t)?t.call(this,this):t)}:t:e}function of(e,t){return ir(Hs(e),Hs(t))}function Hs(e){if(oe(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function We(e,t){return e?[...new Set([].concat(e,t))]:t}function ir(e,t){return e?Be(Be(Object.create(null),e),t):t}function af(e,t){if(!e)return t;if(!t)return e;const r=Be(Object.create(null),e);for(const n in t)r[n]=We(e[n],t[n]);return r}function lf(e,t,r,n=!1){const s={},i={};Un(i,as,1),e.propsDefaults=Object.create(null),$l(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);r?e.props=n?s:gu(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function cf(e,t,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=Se(s),[l]=e.propsOptions;let f=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let _=c[d];if(ns(e.emitsOptions,_))continue;const b=t[_];if(l)if($e(i,_))b!==i[_]&&(i[_]=b,f=!0);else{const $=Nr(_);s[$]=Ks(l,a,$,b,e,!1)}else b!==i[_]&&(i[_]=b,f=!0)}}}else{$l(e,t,s,i)&&(f=!0);let c;for(const d in a)(!t||!$e(t,d)&&((c=Ir(d))===d||!$e(t,c)))&&(l?r&&(r[d]!==void 0||r[c]!==void 0)&&(s[d]=Ks(l,a,d,void 0,e,!0)):delete s[d]);if(i!==a)for(const d in i)(!t||!$e(t,d))&&(delete i[d],f=!0)}f&&Vt(e,"set","$attrs")}function $l(e,t,r,n){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Rn(l))continue;const f=t[l];let c;s&&$e(s,c=Nr(l))?!i||!i.includes(c)?r[c]=f:(a||(a={}))[c]=f:ns(e.emitsOptions,l)||(!(l in n)||f!==n[l])&&(n[l]=f,o=!0)}if(i){const l=Se(r),f=a||Re;for(let c=0;c<i.length;c++){const d=i[c];r[d]=Ks(s,l,d,f[d],e,!$e(f,d))}}return o}function Ks(e,t,r,n,s,i){const o=e[r];if(o!=null){const a=$e(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&he(l)){const{propsDefaults:f}=s;r in f?n=f[r]:(Rr(s),n=f[r]=l.call(null,t),pr())}else n=l}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Ir(r))&&(n=!0))}return n}function bl(e,t,r=!1){const n=t.propsCache,s=n.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!he(e)){const c=d=>{l=!0;const[_,b]=bl(d,t,!0);Be(o,_),b&&a.push(...b)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return Ae(e)&&n.set(e,br),br;if(oe(i))for(let c=0;c<i.length;c++){const d=Nr(i[c]);jo(d)&&(o[d]=Re)}else if(i)for(const c in i){const d=Nr(c);if(jo(d)){const _=i[c],b=o[d]=oe(_)||he(_)?{type:_}:Object.assign({},_);if(b){const $=Mo(Boolean,b.type),w=Mo(String,b.type);b[0]=$>-1,b[1]=w<0||$<w,($>-1||$e(b,"default"))&&a.push(d)}}}const f=[o,a];return Ae(e)&&n.set(e,f),f}function jo(e){return e[0]!=="$"}function ko(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Do(e,t){return ko(e)===ko(t)}function Mo(e,t){return oe(t)?t.findIndex(r=>Do(r,e)):he(t)&&Do(t,e)?0:-1}const wl=e=>e[0]==="_"||e==="$stable",gi=e=>oe(e)?e.map(Nt):[Nt(e)],uf=(e,t,r)=>{if(t._n)return t;const n=Ru((...s)=>gi(t(...s)),r);return n._c=!1,n},El=(e,t,r)=>{const n=e._ctx;for(const s in e){if(wl(s))continue;const i=e[s];if(he(i))t[s]=uf(s,i,n);else if(i!=null){const o=gi(i);t[s]=()=>o}}},Sl=(e,t)=>{const r=gi(t);e.slots.default=()=>r},ff=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=Se(t),Un(t,"_",r)):El(t,e.slots={})}else e.slots={},t&&Sl(e,t);Un(e.slots,as,1)},df=(e,t,r)=>{const{vnode:n,slots:s}=e;let i=!0,o=Re;if(n.shapeFlag&32){const a=t._;a?r&&a===1?i=!1:(Be(s,t),!r&&a===1&&delete s._):(i=!t.$stable,El(t,s)),o=t}else t&&(Sl(e,t),o={default:1});if(i)for(const a in s)!wl(a)&&!(a in o)&&delete s[a]};function Pl(){return{app:null,config:{isNativeTag:kc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hf=0;function pf(e,t){return function(n,s=null){he(n)||(n=Object.assign({},n)),s!=null&&!Ae(s)&&(s=null);const i=Pl(),o=new Set;let a=!1;const l=i.app={_uid:hf++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:Ff,get config(){return i.config},set config(f){},use(f,...c){return o.has(f)||(f&&he(f.install)?(o.add(f),f.install(l,...c)):he(f)&&(o.add(f),f(l,...c))),l},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),l},component(f,c){return c?(i.components[f]=c,l):i.components[f]},directive(f,c){return c?(i.directives[f]=c,l):i.directives[f]},mount(f,c,d){if(!a){const _=it(n,s);return _.appContext=i,c&&t?t(_,f):e(_,f,d),a=!0,l._container=f,f.__vue_app__=l,ls(_.component)||_.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(f,c){return i.provides[f]=c,l}};return l}}function xs(e,t,r,n,s=!1){if(oe(e)){e.forEach((_,b)=>xs(_,t&&(oe(t)?t[b]:t),r,n,s));return}if(jn(n)&&!s)return;const i=n.shapeFlag&4?ls(n.component)||n.component.proxy:n.el,o=s?null:i,{i:a,r:l}=e,f=t&&t.r,c=a.refs===Re?a.refs={}:a.refs,d=a.setupState;if(f!=null&&f!==l&&(Ue(f)?(c[f]=null,$e(d,f)&&(d[f]=null)):ze(f)&&(f.value=null)),he(l))Wt(l,a,12,[o,c]);else{const _=Ue(l),b=ze(l);if(_||b){const $=()=>{if(e.f){const w=_?$e(d,l)?d[l]:c[l]:l.value;s?oe(w)&&ni(w,i):oe(w)?w.includes(i)||w.push(i):_?(c[l]=[i],$e(d,l)&&(d[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else _?(c[l]=o,$e(d,l)&&(d[l]=o)):b&&(l.value=o,e.k&&(c[e.k]=o))};o?($.id=-1,Qe($,r)):$()}}}const Qe=Mu;function mf(e){return yf(e)}function yf(e,t){const r=qc();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:f,setElementText:c,parentNode:d,nextSibling:_,setScopeId:b=$t,insertStaticContent:$}=e,w=(u,p,P,j=null,k=null,K=null,Y=!1,x=null,z=!!p.dynamicChildren)=>{if(u===p)return;u&&!ar(u,p)&&(j=J(u),H(u,k,K,!0),u=null),p.patchFlag===-2&&(z=!1,p.dynamicChildren=null);const{type:q,ref:Q,shapeFlag:G}=p;switch(q){case os:v(u,p,P,j);break;case bt:g(u,p,P,j);break;case kn:u==null&&C(p,P,j,Y);break;case ct:re(u,p,P,j,k,K,Y,x,z);break;default:G&1?U(u,p,P,j,k,K,Y,x,z):G&6?fe(u,p,P,j,k,K,Y,x,z):(G&64||G&128)&&q.process(u,p,P,j,k,K,Y,x,z,ae)}Q!=null&&k&&xs(Q,u&&u.ref,K,p||u,!p)},v=(u,p,P,j)=>{if(u==null)n(p.el=a(p.children),P,j);else{const k=p.el=u.el;p.children!==u.children&&f(k,p.children)}},g=(u,p,P,j)=>{u==null?n(p.el=l(p.children||""),P,j):p.el=u.el},C=(u,p,P,j)=>{[u.el,u.anchor]=$(u.children,p,P,j,u.el,u.anchor)},y=({el:u,anchor:p},P,j)=>{let k;for(;u&&u!==p;)k=_(u),n(u,P,j),u=k;n(p,P,j)},R=({el:u,anchor:p})=>{let P;for(;u&&u!==p;)P=_(u),s(u),u=P;s(p)},U=(u,p,P,j,k,K,Y,x,z)=>{Y=Y||p.type==="svg",u==null?T(p,P,j,k,K,Y,x,z):W(u,p,k,K,Y,x,z)},T=(u,p,P,j,k,K,Y,x)=>{let z,q;const{type:Q,props:G,shapeFlag:ee,transition:se,dirs:le}=u;if(z=u.el=o(u.type,K,G&&G.is,G),ee&8?c(z,u.children):ee&16&&M(u.children,z,null,j,k,K&&Q!=="foreignObject",Y,x),le&&tr(u,null,j,"created"),I(z,u,u.scopeId,Y,j),G){for(const ve in G)ve!=="value"&&!Rn(ve)&&i(z,ve,null,G[ve],K,u.children,j,k,V);"value"in G&&i(z,"value",null,G.value),(q=G.onVnodeBeforeMount)&&Ct(q,j,u)}le&&tr(u,null,j,"beforeMount");const Ee=(!k||k&&!k.pendingBranch)&&se&&!se.persisted;Ee&&se.beforeEnter(z),n(z,p,P),((q=G&&G.onVnodeMounted)||Ee||le)&&Qe(()=>{q&&Ct(q,j,u),Ee&&se.enter(z),le&&tr(u,null,j,"mounted")},k)},I=(u,p,P,j,k)=>{if(P&&b(u,P),j)for(let K=0;K<j.length;K++)b(u,j[K]);if(k){let K=k.subTree;if(p===K){const Y=k.vnode;I(u,Y,Y.scopeId,Y.slotScopeIds,k.parent)}}},M=(u,p,P,j,k,K,Y,x,z=0)=>{for(let q=z;q<u.length;q++){const Q=u[q]=x?Bt(u[q]):Nt(u[q]);w(null,Q,p,P,j,k,K,Y,x)}},W=(u,p,P,j,k,K,Y)=>{const x=p.el=u.el;let{patchFlag:z,dynamicChildren:q,dirs:Q}=p;z|=u.patchFlag&16;const G=u.props||Re,ee=p.props||Re;let se;P&&rr(P,!1),(se=ee.onVnodeBeforeUpdate)&&Ct(se,P,p,u),Q&&tr(p,u,P,"beforeUpdate"),P&&rr(P,!0);const le=k&&p.type!=="foreignObject";if(q?Z(u.dynamicChildren,q,x,P,j,le,K):Y||ye(u,p,x,null,P,j,le,K,!1),z>0){if(z&16)ie(x,p,G,ee,P,j,k);else if(z&2&&G.class!==ee.class&&i(x,"class",null,ee.class,k),z&4&&i(x,"style",G.style,ee.style,k),z&8){const Ee=p.dynamicProps;for(let ve=0;ve<Ee.length;ve++){const _e=Ee[ve],Ve=G[_e],Rt=ee[_e];(Rt!==Ve||_e==="value")&&i(x,_e,Ve,Rt,k,u.children,P,j,V)}}z&1&&u.children!==p.children&&c(x,p.children)}else!Y&&q==null&&ie(x,p,G,ee,P,j,k);((se=ee.onVnodeUpdated)||Q)&&Qe(()=>{se&&Ct(se,P,p,u),Q&&tr(p,u,P,"updated")},j)},Z=(u,p,P,j,k,K,Y)=>{for(let x=0;x<p.length;x++){const z=u[x],q=p[x],Q=z.el&&(z.type===ct||!ar(z,q)||z.shapeFlag&70)?d(z.el):P;w(z,q,Q,null,j,k,K,Y,!0)}},ie=(u,p,P,j,k,K,Y)=>{if(P!==j){if(P!==Re)for(const x in P)!Rn(x)&&!(x in j)&&i(u,x,P[x],null,Y,p.children,k,K,V);for(const x in j){if(Rn(x))continue;const z=j[x],q=P[x];z!==q&&x!=="value"&&i(u,x,q,z,Y,p.children,k,K,V)}"value"in j&&i(u,"value",P.value,j.value)}},re=(u,p,P,j,k,K,Y,x,z)=>{const q=p.el=u?u.el:a(""),Q=p.anchor=u?u.anchor:a("");let{patchFlag:G,dynamicChildren:ee,slotScopeIds:se}=p;se&&(x=x?x.concat(se):se),u==null?(n(q,P,j),n(Q,P,j),M(p.children,P,Q,k,K,Y,x,z)):G>0&&G&64&&ee&&u.dynamicChildren?(Z(u.dynamicChildren,ee,P,k,K,Y,x),(p.key!=null||k&&p===k.subTree)&&Ol(u,p,!0)):ye(u,p,P,Q,k,K,Y,x,z)},fe=(u,p,P,j,k,K,Y,x,z)=>{p.slotScopeIds=x,u==null?p.shapeFlag&512?k.ctx.activate(p,P,j,Y,z):de(p,P,j,k,K,Y,z):Xe(u,p,z)},de=(u,p,P,j,k,K,Y)=>{const x=u.component=Cf(u,j,k);if(ss(u)&&(x.ctx.renderer=ae),Tf(x),x.asyncDep){if(k&&k.registerDep(x,Oe),!u.el){const z=x.subTree=it(bt);g(null,z,p,P)}return}Oe(x,u,p,P,k,K,Y)},Xe=(u,p,P)=>{const j=p.component=u.component;if(ju(u,p,P))if(j.asyncDep&&!j.asyncResolved){we(j,p,P);return}else j.next=p,Ou(j.update),j.update();else p.el=u.el,j.vnode=p},Oe=(u,p,P,j,k,K,Y)=>{const x=()=>{if(u.isMounted){let{next:Q,bu:G,u:ee,parent:se,vnode:le}=u,Ee=Q,ve;rr(u,!1),Q?(Q.el=le.el,we(u,Q,Y)):Q=le,G&&An(G),(ve=Q.props&&Q.props.onVnodeBeforeUpdate)&&Ct(ve,se,Q,le),rr(u,!0);const _e=ys(u),Ve=u.subTree;u.subTree=_e,w(Ve,_e,d(Ve.el),J(Ve),u,k,K),Q.el=_e.el,Ee===null&&ku(u,_e.el),ee&&Qe(ee,k),(ve=Q.props&&Q.props.onVnodeUpdated)&&Qe(()=>Ct(ve,se,Q,le),k)}else{let Q;const{el:G,props:ee}=p,{bm:se,m:le,parent:Ee}=u,ve=jn(p);if(rr(u,!1),se&&An(se),!ve&&(Q=ee&&ee.onVnodeBeforeMount)&&Ct(Q,Ee,p),rr(u,!0),G&&N){const _e=()=>{u.subTree=ys(u),N(G,u.subTree,u,k,null)};ve?p.type.__asyncLoader().then(()=>!u.isUnmounted&&_e()):_e()}else{const _e=u.subTree=ys(u);w(null,_e,P,j,u,k,K),p.el=_e.el}if(le&&Qe(le,k),!ve&&(Q=ee&&ee.onVnodeMounted)){const _e=p;Qe(()=>Ct(Q,Ee,_e),k)}(p.shapeFlag&256||Ee&&jn(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&u.a&&Qe(u.a,k),u.isMounted=!0,p=P=j=null}},z=u.effect=new oi(x,()=>pi(q),u.scope),q=u.update=()=>z.run();q.id=u.uid,rr(u,!0),q()},we=(u,p,P)=>{p.component=u;const j=u.vnode.props;u.vnode=p,u.next=null,cf(u,p.props,j,P),df(u,p.children,P),jr(),No(),kr()},ye=(u,p,P,j,k,K,Y,x,z=!1)=>{const q=u&&u.children,Q=u?u.shapeFlag:0,G=p.children,{patchFlag:ee,shapeFlag:se}=p;if(ee>0){if(ee&128){B(q,G,P,j,k,K,Y,x,z);return}else if(ee&256){Ke(q,G,P,j,k,K,Y,x,z);return}}se&8?(Q&16&&V(q,k,K),G!==q&&c(P,G)):Q&16?se&16?B(q,G,P,j,k,K,Y,x,z):V(q,k,K,!0):(Q&8&&c(P,""),se&16&&M(G,P,j,k,K,Y,x,z))},Ke=(u,p,P,j,k,K,Y,x,z)=>{u=u||br,p=p||br;const q=u.length,Q=p.length,G=Math.min(q,Q);let ee;for(ee=0;ee<G;ee++){const se=p[ee]=z?Bt(p[ee]):Nt(p[ee]);w(u[ee],se,P,null,k,K,Y,x,z)}q>Q?V(u,k,K,!0,!1,G):M(p,P,j,k,K,Y,x,z,G)},B=(u,p,P,j,k,K,Y,x,z)=>{let q=0;const Q=p.length;let G=u.length-1,ee=Q-1;for(;q<=G&&q<=ee;){const se=u[q],le=p[q]=z?Bt(p[q]):Nt(p[q]);if(ar(se,le))w(se,le,P,null,k,K,Y,x,z);else break;q++}for(;q<=G&&q<=ee;){const se=u[G],le=p[ee]=z?Bt(p[ee]):Nt(p[ee]);if(ar(se,le))w(se,le,P,null,k,K,Y,x,z);else break;G--,ee--}if(q>G){if(q<=ee){const se=ee+1,le=se<Q?p[se].el:j;for(;q<=ee;)w(null,p[q]=z?Bt(p[q]):Nt(p[q]),P,le,k,K,Y,x,z),q++}}else if(q>ee)for(;q<=G;)H(u[q],k,K,!0),q++;else{const se=q,le=q,Ee=new Map;for(q=le;q<=ee;q++){const Ye=p[q]=z?Bt(p[q]):Nt(p[q]);Ye.key!=null&&Ee.set(Ye.key,q)}let ve,_e=0;const Ve=ee-le+1;let Rt=!1,Fr=0;const dt=new Array(Ve);for(q=0;q<Ve;q++)dt[q]=0;for(q=se;q<=G;q++){const Ye=u[q];if(_e>=Ve){H(Ye,k,K,!0);continue}let nt;if(Ye.key!=null)nt=Ee.get(Ye.key);else for(ve=le;ve<=ee;ve++)if(dt[ve-le]===0&&ar(Ye,p[ve])){nt=ve;break}nt===void 0?H(Ye,k,K,!0):(dt[nt-le]=q+1,nt>=Fr?Fr=nt:Rt=!0,w(Ye,p[nt],P,null,k,K,Y,x,z),_e++)}const Lr=Rt?gf(dt):br;for(ve=Lr.length-1,q=Ve-1;q>=0;q--){const Ye=le+q,nt=p[Ye],st=Ye+1<Q?p[Ye+1].el:j;dt[q]===0?w(null,nt,P,st,k,K,Y,x,z):Rt&&(ve<0||q!==Lr[ve]?A(nt,P,st,2):ve--)}}},A=(u,p,P,j,k=null)=>{const{el:K,type:Y,transition:x,children:z,shapeFlag:q}=u;if(q&6){A(u.component.subTree,p,P,j);return}if(q&128){u.suspense.move(p,P,j);return}if(q&64){Y.move(u,p,P,ae);return}if(Y===ct){n(K,p,P);for(let G=0;G<z.length;G++)A(z[G],p,P,j);n(u.anchor,p,P);return}if(Y===kn){y(u,p,P);return}if(j!==2&&q&1&&x)if(j===0)x.beforeEnter(K),n(K,p,P),Qe(()=>x.enter(K),k);else{const{leave:G,delayLeave:ee,afterLeave:se}=x,le=()=>n(K,p,P),Ee=()=>{G(K,()=>{le(),se&&se()})};ee?ee(K,le,Ee):Ee()}else n(K,p,P)},H=(u,p,P,j=!1,k=!1)=>{const{type:K,props:Y,ref:x,children:z,dynamicChildren:q,shapeFlag:Q,patchFlag:G,dirs:ee}=u;if(x!=null&&xs(x,null,P,u,!0),Q&256){p.ctx.deactivate(u);return}const se=Q&1&&ee,le=!jn(u);let Ee;if(le&&(Ee=Y&&Y.onVnodeBeforeUnmount)&&Ct(Ee,p,u),Q&6)S(u.component,P,j);else{if(Q&128){u.suspense.unmount(P,j);return}se&&tr(u,null,p,"beforeUnmount"),Q&64?u.type.remove(u,p,P,k,ae,j):q&&(K!==ct||G>0&&G&64)?V(q,p,P,!1,!0):(K===ct&&G&384||!k&&Q&16)&&V(z,p,P),j&&D(u)}(le&&(Ee=Y&&Y.onVnodeUnmounted)||se)&&Qe(()=>{Ee&&Ct(Ee,p,u),se&&tr(u,null,p,"unmounted")},P)},D=u=>{const{type:p,el:P,anchor:j,transition:k}=u;if(p===ct){h(P,j);return}if(p===kn){R(u);return}const K=()=>{s(P),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(u.shapeFlag&1&&k&&!k.persisted){const{leave:Y,delayLeave:x}=k,z=()=>Y(P,K);x?x(u.el,K,z):z()}else K()},h=(u,p)=>{let P;for(;u!==p;)P=_(u),s(u),u=P;s(p)},S=(u,p,P)=>{const{bum:j,scope:k,update:K,subTree:Y,um:x}=u;j&&An(j),k.stop(),K&&(K.active=!1,H(Y,u,p,P)),x&&Qe(x,p),Qe(()=>{u.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},V=(u,p,P,j=!1,k=!1,K=0)=>{for(let Y=K;Y<u.length;Y++)H(u[Y],p,P,j,k)},J=u=>u.shapeFlag&6?J(u.component.subTree):u.shapeFlag&128?u.suspense.next():_(u.anchor||u.el),X=(u,p,P)=>{u==null?p._vnode&&H(p._vnode,null,null,!0):w(p._vnode||null,u,p,null,null,null,P),No(),ll(),p._vnode=u},ae={p:w,um:H,m:A,r:D,mt:de,mc:M,pc:ye,pbc:Z,n:J,o:e};let ue,N;return t&&([ue,N]=t(ae)),{render:X,hydrate:ue,createApp:pf(X,ue)}}function rr({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Ol(e,t,r=!1){const n=e.children,s=t.children;if(oe(n)&&oe(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Bt(s[i]),a.el=o.el),r||Ol(o,a)),a.type===os&&(a.el=o.el)}}function gf(e){const t=e.slice(),r=[0];let n,s,i,o,a;const l=e.length;for(n=0;n<l;n++){const f=e[n];if(f!==0){if(s=r[r.length-1],e[s]<f){t[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,e[r[a]]<f?i=a+1:o=a;f<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=t[o];return r}const vf=e=>e.__isTeleport,ct=Symbol(void 0),os=Symbol(void 0),bt=Symbol(void 0),kn=Symbol(void 0),Yr=[];let _t=null;function Lt(e=!1){Yr.push(_t=e?null:[])}function _f(){Yr.pop(),_t=Yr[Yr.length-1]||null}let an=1;function Fo(e){an+=e}function Cl(e){return e.dynamicChildren=an>0?_t||br:null,_f(),an>0&&_t&&_t.push(e),e}function Pr(e,t,r,n,s,i){return Cl(hr(e,t,r,n,s,i,!0))}function vi(e,t,r,n,s){return Cl(it(e,t,r,n,s,!0))}function $f(e){return e?e.__v_isVNode===!0:!1}function ar(e,t){return e.type===t.type&&e.key===t.key}const as="__vInternal",Nl=({key:e})=>e??null,Dn=({ref:e,ref_key:t,ref_for:r})=>e!=null?Ue(e)||ze(e)||he(e)?{i:ut,r:e,k:t,f:!!r}:e:null;function hr(e,t=null,r=null,n=0,s=null,i=e===ct?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Nl(t),ref:t&&Dn(t),scopeId:fl,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ut};return a?(_i(l,r),i&128&&e.normalize(l)):r&&(l.shapeFlag|=Ue(r)?8:16),an>0&&!o&&_t&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&_t.push(l),l}const it=bf;function bf(e,t=null,r=null,n=0,s=null,i=!1){if((!e||e===Qu)&&(e=bt),$f(e)){const a=Zt(e,t,!0);return r&&_i(a,r),an>0&&!i&&_t&&(a.shapeFlag&6?_t[_t.indexOf(e)]=a:_t.push(a)),a.patchFlag|=-2,a}if(jf(e)&&(e=e.__vccOpts),t){t=wf(t);let{class:a,style:l}=t;a&&!Ue(a)&&(t.class=Jn(a)),Ae(l)&&(Qa(l)&&!oe(l)&&(l=Be({},l)),t.style=ti(l))}const o=Ue(e)?1:Du(e)?128:vf(e)?64:Ae(e)?4:he(e)?2:0;return hr(e,t,r,n,s,o,i,!0)}function wf(e){return e?Qa(e)||as in e?Be({},e):e:null}function Zt(e,t,r=!1){const{props:n,ref:s,patchFlag:i,children:o}=e,a=t?Sf(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Nl(a),ref:t&&t.ref?r&&s?oe(s)?s.concat(Dn(t)):[s,Dn(t)]:Dn(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ct?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zt(e.ssContent),ssFallback:e.ssFallback&&Zt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Tl(e=" ",t=0){return it(os,null,e,t)}function Ef(e,t){const r=it(kn,null,e);return r.staticCount=t,r}function Lo(e="",t=!1){return t?(Lt(),vi(bt,null,e)):it(bt,null,e)}function Nt(e){return e==null||typeof e=="boolean"?it(bt):oe(e)?it(ct,null,e.slice()):typeof e=="object"?Bt(e):it(os,null,String(e))}function Bt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Zt(e)}function _i(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(oe(t))r=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),_i(e,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!(as in t)?t._ctx=ut:s===3&&ut&&(ut.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else he(t)?(t={default:t,_ctx:ut},r=32):(t=String(t),n&64?(r=16,t=[Tl(t)]):r=8);e.children=t,e.shapeFlag|=r}function Sf(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=Jn([t.class,n.class]));else if(s==="style")t.style=ti([t.style,n.style]);else if(Xn(s)){const i=t[s],o=n[s];o&&i!==o&&!(oe(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=n[s])}return t}function Ct(e,t,r,n=null){ft(e,t,7,[r,n])}const Pf=Pl();let Of=0;function Cf(e,t,r){const n=e.type,s=(t?t.appContext:e.appContext)||Pf,i={uid:Of++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Hc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bl(n,s),emitsOptions:ul(n,s),emit:null,emitted:null,propsDefaults:Re,inheritAttrs:n.inheritAttrs,ctx:Re,data:Re,props:Re,attrs:Re,slots:Re,refs:Re,setupState:Re,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Tu.bind(null,i),e.ce&&e.ce(i),i}let Le=null;const Nf=()=>Le||ut,Rr=e=>{Le=e,e.scope.on()},pr=()=>{Le&&Le.scope.off(),Le=null};function Rl(e){return e.vnode.shapeFlag&4}let ln=!1;function Tf(e,t=!1){ln=t;const{props:r,children:n}=e.vnode,s=Rl(e);lf(e,r,s,t),ff(e,n);const i=s?Rf(e,t):void 0;return ln=!1,i}function Rf(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=el(new Proxy(e.ctx,tf));const{setup:n}=r;if(n){const s=e.setupContext=n.length>1?If(e):null;Rr(e),jr();const i=Wt(n,e,0,[e.props,s]);if(kr(),pr(),La(i)){if(i.then(pr,pr),t)return i.then(o=>{Vo(e,o,t)}).catch(o=>{rs(o,e,0)});e.asyncDep=i}else Vo(e,i,t)}else Al(e,t)}function Vo(e,t,r){he(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ae(t)&&(e.setupState=sl(t)),Al(e,r)}let Uo;function Al(e,t,r){const n=e.type;if(!e.render){if(!t&&Uo&&!n.render){const s=n.template||yi(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=n,f=Be(Be({isCustomElement:i,delimiters:a},o),l);n.render=Uo(s,f)}}e.render=n.render||$t}Rr(e),jr(),rf(e),kr(),pr()}function Af(e){return new Proxy(e.attrs,{get(t,r){return rt(e,"get","$attrs"),t[r]}})}function If(e){const t=n=>{e.exposed=n||{}};let r;return{get attrs(){return r||(r=Af(e))},slots:e.slots,emit:e.emit,expose:t}}function ls(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(sl(el(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Br)return Br[r](e)},has(t,r){return r in t||r in Br}}))}function jf(e){return he(e)&&"__vccOpts"in e}const kf=(e,t)=>wu(e,t,ln),Df=Symbol(""),Mf=()=>In(Df),Ff="3.2.47",Lf="http://www.w3.org/2000/svg",lr=typeof document<"u"?document:null,qo=lr&&lr.createElement("template"),Vf={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const s=t?lr.createElementNS(Lf,e):lr.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:e=>lr.createTextNode(e),createComment:e=>lr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>lr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,s,i){const o=r?r.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{qo.innerHTML=n?`<svg>${e}</svg>`:e;const a=qo.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function Uf(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function qf(e,t,r){const n=e.style,s=Ue(r);if(r&&!s){if(t&&!Ue(t))for(const i in t)r[i]==null&&zs(n,i,"");for(const i in r)zs(n,i,r[i])}else{const i=n.display;s?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=i)}}const Ho=/\s*!important$/;function zs(e,t,r){if(oe(r))r.forEach(n=>zs(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=Hf(e,t);Ho.test(r)?e.setProperty(Ir(n),r.replace(Ho,""),"important"):e[n]=r}}const Ko=["Webkit","Moz","ms"],$s={};function Hf(e,t){const r=$s[t];if(r)return r;let n=Nr(t);if(n!=="filter"&&n in e)return $s[t]=n;n=qa(n);for(let s=0;s<Ko.length;s++){const i=Ko[s]+n;if(i in e)return $s[t]=i}return t}const xo="http://www.w3.org/1999/xlink";function Kf(e,t,r,n,s){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(xo,t.slice(6,t.length)):e.setAttributeNS(xo,t,r);else{const i=Ac(t);r==null||i&&!Da(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}function xf(e,t,r,n,s,i,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,s,i),e[t]=r??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const l=r??"";(e.value!==l||e.tagName==="OPTION")&&(e.value=l),r==null&&e.removeAttribute(t);return}let a=!1;if(r===""||r==null){const l=typeof e[t];l==="boolean"?r=Da(r):r==null&&l==="string"?(r="",a=!0):l==="number"&&(r=0,a=!0)}try{e[t]=r}catch{}a&&e.removeAttribute(t)}function Il(e,t,r,n){e.addEventListener(t,r,n)}function zf(e,t,r,n){e.removeEventListener(t,r,n)}function Bf(e,t,r,n,s=null){const i=e._vei||(e._vei={}),o=i[t];if(n&&o)o.value=n;else{const[a,l]=Yf(t);if(n){const f=i[t]=Jf(n,s);Il(e,a,f,l)}else o&&(zf(e,a,o,l),i[t]=void 0)}}const zo=/(?:Once|Passive|Capture)$/;function Yf(e){let t;if(zo.test(e)){t={};let n;for(;n=e.match(zo);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ir(e.slice(2)),t]}let bs=0;const Gf=Promise.resolve(),Wf=()=>bs||(Gf.then(()=>bs=0),bs=Date.now());function Jf(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;ft(Zf(n,r.value),t,5,[n])};return r.value=e,r.attached=Wf(),r}function Zf(e,t){if(oe(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>s=>!s._stopped&&n&&n(s))}else return t}const Bo=/^on[a-z]/,Xf=(e,t,r,n,s=!1,i,o,a,l)=>{t==="class"?Uf(e,n,s):t==="style"?qf(e,r,n):Xn(t)?ri(t)||Bf(e,t,r,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Qf(e,t,n,s))?xf(e,t,n,i,o,a,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Kf(e,t,n,s))};function Qf(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&Bo.test(t)&&he(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Bo.test(t)&&Ue(r)?!1:t in e}const ed={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};qu.props;const Yo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return oe(t)?r=>An(t,r):t},td={deep:!0,created(e,t,r){e._assign=Yo(r),Il(e,"change",()=>{const n=e._modelValue,s=rd(e),i=e.checked,o=e._assign;if(oe(n)){const a=Ma(n,s),l=a!==-1;if(i&&!l)o(n.concat(s));else if(!i&&l){const f=[...n];f.splice(a,1),o(f)}}else if(Qn(n)){const a=new Set(n);i?a.add(s):a.delete(s),o(a)}else o(jl(e,i))})},mounted:Go,beforeUpdate(e,t,r){e._assign=Yo(r),Go(e,t,r)}};function Go(e,{value:t,oldValue:r},n){e._modelValue=t,oe(t)?e.checked=Ma(t,n.props.value)>-1:Qn(t)?e.checked=t.has(n.props.value):t!==r&&(e.checked=Zn(t,jl(e,!0)))}function rd(e){return"_value"in e?e._value:e.value}function jl(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const nd=Be({patchProp:Xf},Vf);let Wo;function sd(){return Wo||(Wo=mf(nd))}const id=(...e)=>{const t=sd().createApp(...e),{mount:r}=t;return t.mount=n=>{const s=od(n);if(!s)return;const i=t._component;!he(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function od(e){return Ue(e)?document.querySelector(e):e}const ad=Ef('<div class="flex flex-row"><div class="bg-yellow-800 text-white">PILE</div><div class="bg-blue-50">SUPPORTS</div><div class="bg-white flex-grow">CHARACTERS</div><div class="bg-red-50">SUMMONS</div><div class="bg-yellow-800 text-white">DICE</div></div><div>HANDS</div>',2),ld=[ad],cd=fn({__name:"PlayerArea",props:{player:null,name:null,data:null},setup(e){const t=e;return(r,n)=>(Lt(),Pr("div",{class:Jn(["flex border border-black gap-1",t.player==="me"?"flex-col":"flex-col-reverse"])},ld,2))}}),ud=["onUpdate:modelValue"],fd=fn({__name:"SwitchHands",props:{hands:null},setup(e,{emit:t}){const r=e,n=nn(new Array(r.hands.length).fill(!0));return(s,i)=>(Lt(),Pr("div",null,[hr("ul",null,[(Lt(!0),Pr(ct,null,ef(r.hands,(o,a)=>(Lt(),Pr("li",{key:o},[Xu(hr("input",{type:"checkbox","onUpdate:modelValue":l=>n.value[a]=l},null,8,ud),[[td,n.value[a]]]),Tl(jc(o),1)]))),128))]),hr("button",{onClick:i[0]||(i[0]=o=>s.$emit("selected",e.hands.filter((a,l)=>n.value[l])))}," Sounds good ")]))}});function dd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kl={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(l,f,c){this.fn=l,this.context=f,this.once=c||!1}function i(l,f,c,d,_){if(typeof c!="function")throw new TypeError("The listener must be a function");var b=new s(c,d||l,_),$=r?r+f:f;return l._events[$]?l._events[$].fn?l._events[$]=[l._events[$],b]:l._events[$].push(b):(l._events[$]=b,l._eventsCount++),l}function o(l,f){--l._eventsCount===0?l._events=new n:delete l._events[f]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var f=[],c,d;if(this._eventsCount===0)return f;for(d in c=this._events)t.call(c,d)&&f.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(c)):f},a.prototype.listeners=function(f){var c=r?r+f:f,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var _=0,b=d.length,$=new Array(b);_<b;_++)$[_]=d[_].fn;return $},a.prototype.listenerCount=function(f){var c=r?r+f:f,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(f,c,d,_,b,$){var w=r?r+f:f;if(!this._events[w])return!1;var v=this._events[w],g=arguments.length,C,y;if(v.fn){switch(v.once&&this.removeListener(f,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,_),!0;case 5:return v.fn.call(v.context,c,d,_,b),!0;case 6:return v.fn.call(v.context,c,d,_,b,$),!0}for(y=1,C=new Array(g-1);y<g;y++)C[y-1]=arguments[y];v.fn.apply(v.context,C)}else{var R=v.length,U;for(y=0;y<R;y++)switch(v[y].once&&this.removeListener(f,v[y].fn,void 0,!0),g){case 1:v[y].fn.call(v[y].context);break;case 2:v[y].fn.call(v[y].context,c);break;case 3:v[y].fn.call(v[y].context,c,d);break;case 4:v[y].fn.call(v[y].context,c,d,_);break;default:if(!C)for(U=1,C=new Array(g-1);U<g;U++)C[U-1]=arguments[U];v[y].fn.apply(v[y].context,C)}}return!0},a.prototype.on=function(f,c,d){return i(this,f,c,d,!1)},a.prototype.once=function(f,c,d){return i(this,f,c,d,!0)},a.prototype.removeListener=function(f,c,d,_){var b=r?r+f:f;if(!this._events[b])return this;if(!c)return o(this,b),this;var $=this._events[b];if($.fn)$.fn===c&&(!_||$.once)&&(!d||$.context===d)&&o(this,b);else{for(var w=0,v=[],g=$.length;w<g;w++)($[w].fn!==c||_&&!$[w].once||d&&$[w].context!==d)&&v.push($[w]);v.length?this._events[b]=v.length===1?v[0]:v:o(this,b)}return this},a.prototype.removeAllListeners=function(f){var c;return f?(c=r?r+f:f,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(kl);var hd=kl.exports;const pd=dd(hd),md={key:0},Jo=fn({__name:"PlayerControl",props:{playerId:null,characters:null,piles:null},setup(e,{expose:t}){const r=e,n=r.playerId==="A"?"me":"dbg",s=nn(),i=nn(!1),o=new pd;function a(d){return{...d,type:"visible"}}function l(d,{source:_,state:b,damages:$}){switch(_.type){}s.value=a(b)}async function f(d,_){switch(console.log({method:d,req:_}),d){case"initialize":{const{state:b}=_;s.value=a(b);break}case"drawHands":{const{hands:b}=_;s.value&&s.value.type==="visible"&&(console.log(s.value.hands,b),s.value.hands=[...s.value.hands,...b].sort(($,w)=>$-w));break}case"removeHands":{console.log(this,_);const b=await new Promise($=>{o.once("done",w=>{$(w)}),i.value=!0});return i.value=!1,s.value&&s.value.type==="visible"&&(s.value.hands=s.value.hands.filter($=>!b.includes($))),{remove:b}}case"notify":{const b=_;l(this.id,b.event)}}return{success:!0}}const c={id:r.playerId,characters:r.characters,piles:r.piles,handler:f};return t({player:c}),(d,_)=>s.value?(Lt(),Pr("div",md,[it(cd,{player:nl(n),data:s.value},null,8,["player","data"]),s.value.type==="visible"?(Lt(),vi(fd,{key:0,hands:s.value.hands},null,8,["hands"])):Lo("",!0)])):Lo("",!0)}}),yd={oneOf:[{type:"object",additionalProperties:!1,properties:{type:{const:"useSkill"},cost:{type:"array",items:{type:"integer"}},name:{type:"string"}},required:["type","cost","name"]},{type:"object",additionalProperties:!1,properties:{type:{const:"switchCharacter"},target:{type:"integer"}},required:["type","target"]},{type:"object",additionalProperties:!1,properties:{type:{const:"playCard"},card:{type:"number"}},required:["type","card"]},{type:"object",additionalProperties:!1,properties:{card:{type:"number"},type:{const:"elementalTuning"}},required:["type","card"]},{type:"object",additionalProperties:!1,properties:{type:{const:"declareEnd"}},required:["type"]}]},gd={type:"object",additionalProperties:!1,properties:{state:{},source:{oneOf:[{type:"object",additionalProperties:!1,properties:{type:{const:"phaseBegin"},phase:{enum:["roll","action","end"]},roundNumber:{type:"integer"},first:{enum:[0,1]}},required:["type","phase"]},{type:"object",additionalProperties:!1,properties:{type:{enum:["support","summon","status"]},id:{type:"integer"}},required:["type","id"]},{type:"object",additionalProperties:!1,properties:{type:{const:"oppSwitchHands"},addNum:{type:"integer"},removeNum:{type:"integer"},discardNum:{type:"integer"}},required:["type"]},{type:"object",additionalProperties:!1,properties:{type:{const:"oppDeclareEnd"}},required:["type"]},{type:"object",additionalProperties:!1,properties:{type:{const:"useSkill"},id:{type:"integer"},name:{type:"string"}},required:["type","id","name"]},{type:"object",additionalProperties:!1,properties:{type:{const:"playCard"},who:{enum:[0,1]},card:{type:"number"}},required:["type","who","card"]},{type:"object",additionalProperties:!1,properties:{type:{const:"switchActive"},target:{type:"integer"}},required:["type","target"]}]},damages:{type:"array",items:{type:"object",additionalProperties:!1,properties:{target:{type:"integer"},value:{type:"integer"},element:{type:"integer",minimum:0,maximum:9}},required:["target","value","element"]}}},required:["state","source"]},Dl={initialize:{params:{first:{type:"boolean"},state:{}},result:{success:{const:!0}}},removeHands:{params:{hands:{type:"array",items:{type:"number"}}},result:{remove:{type:"array",items:{type:"number"}}}},switchActive:{params:{},result:{target:{type:"integer",minimum:0,maximum:2}}},roll:{params:{dice:{type:"array",items:{type:"integer"}},canRemove:{type:"boolean"}},result:{removedDice:{type:"array",items:{type:"integer"}}}},action:{params:{state:{},skills:{type:"array",items:{type:"object",additionalProperties:!1,properties:{name:{type:"string"},cost:{type:"array",items:{type:"integer"}}}},required:["name","cost"]},cards:{type:"array",items:{type:"object",additionalProperties:!1,properties:{id:{type:"number"},cost:{type:"array",items:{type:"integer"}}}},required:["id","cost"]},switchActive:{type:"object",additionalProperties:!1,properties:{fast:{type:"boolean"},cost:{type:"array",items:{type:"integer"}}},required:["fast","cost"]}},result:{action:yd}},notify:{params:{event:gd},result:{}},drawHands:{params:{hands:{type:"array",items:{type:"number"}},discard:{type:"array",items:{type:"number"}}},result:{}},gameEnd:{params:{win:{type:"boolean"}},result:{}}};var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bs={exports:{}},Ml={},It={},nr={},ws={},Es={},Ss={},Zo;function xn(){return Zo||(Zo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(C){if(super(),!e.IDENTIFIER.test(C))throw new Error("CodeGen: name must be a valid identifier");this.str=C}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(C){super(),this._items=typeof C=="string"?[C]:C}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const C=this._items[0];return C===""||C==='""'}get str(){var C;return(C=this._str)!==null&&C!==void 0?C:this._str=this._items.reduce((y,R)=>`${y}${R}`,"")}get names(){var C;return(C=this._names)!==null&&C!==void 0?C:this._names=this._items.reduce((y,R)=>(R instanceof r&&(y[R.str]=(y[R.str]||0)+1),y),{})}}e._Code=n,e.nil=new n("");function s(g,...C){const y=[g[0]];let R=0;for(;R<C.length;)a(y,C[R]),y.push(g[++R]);return new n(y)}e._=s;const i=new n("+");function o(g,...C){const y=[b(g[0])];let R=0;for(;R<C.length;)y.push(i),a(y,C[R]),y.push(i,b(g[++R]));return l(y),new n(y)}e.str=o;function a(g,C){C instanceof n?g.push(...C._items):C instanceof r?g.push(C):g.push(d(C))}e.addCodeArg=a;function l(g){let C=1;for(;C<g.length-1;){if(g[C]===i){const y=f(g[C-1],g[C+1]);if(y!==void 0){g.splice(C-1,3,y);continue}g[C++]="+"}C++}}function f(g,C){if(C==='""')return g;if(g==='""')return C;if(typeof g=="string")return C instanceof r||g[g.length-1]!=='"'?void 0:typeof C!="string"?`${g.slice(0,-1)}${C}"`:C[0]==='"'?g.slice(0,-1)+C.slice(1):void 0;if(typeof C=="string"&&C[0]==='"'&&!(g instanceof r))return`"${g}${C.slice(1)}`}function c(g,C){return C.emptyStr()?g:g.emptyStr()?C:o`${g}${C}`}e.strConcat=c;function d(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:b(Array.isArray(g)?g.join(","):g)}function _(g){return new n(b(g))}e.stringify=_;function b(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=b;function $(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new n(`.${g}`):s`[${g}]`}e.getProperty=$;function w(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new n(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=w;function v(g){return new n(g.toString())}e.regexpCode=v}(Ss)),Ss}var Ps={},Xo;function Qo(){return Xo||(Xo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=xn();class r extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:f,parent:c}={}){this._names={},this._prefixes=f,this._parent=c}toName(f){return f instanceof t.Name?f:this.name(f)}name(f){return new t.Name(this._newName(f))}_newName(f){const c=this._names[f]||this._nameGroup(f);return`${f}${c.index++}`}_nameGroup(f){var c,d;if(!((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0)&&d.has(f)||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}e.Scope=s;class i extends t.Name{constructor(f,c){super(c),this.prefix=f}setValue(f,{property:c,itemIndex:d}){this.value=f,this.scopePath=(0,t._)`.${new t.Name(c)}[${d}]`}}e.ValueScopeName=i;const o=(0,t._)`\n`;class a extends s{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?o:t.nil}}get(){return this._scope}name(f){return new i(f,this._newName(f))}value(f,c){var d;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const _=this.toName(f),{prefix:b}=_,$=(d=c.key)!==null&&d!==void 0?d:c.ref;let w=this._values[b];if(w){const C=w.get($);if(C)return C}else w=this._values[b]=new Map;w.set($,_);const v=this._scope[b]||(this._scope[b]=[]),g=v.length;return v[g]=c.ref,_.setValue(c,{property:b,itemIndex:g}),_}getValue(f,c){const d=this._values[f];if(d)return d.get(c)}scopeRefs(f,c=this._values){return this._reduceValues(c,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${f}${d.scopePath}`})}scopeCode(f=this._values,c,d){return this._reduceValues(f,_=>{if(_.value===void 0)throw new Error(`CodeGen: name "${_}" has no value`);return _.value.code},c,d)}_reduceValues(f,c,d={},_){let b=t.nil;for(const $ in f){const w=f[$];if(!w)continue;const v=d[$]=d[$]||new Map;w.forEach(g=>{if(v.has(g))return;v.set(g,n.Started);let C=c(g);if(C){const y=this.opts.es5?e.varKinds.var:e.varKinds.const;b=(0,t._)`${b}${y} ${g} = ${C};${this.opts._n}`}else if(C=_==null?void 0:_(g))b=(0,t._)`${b}${C}${this.opts._n}`;else throw new r(g);v.set(g,n.Completed)})}return b}}e.ValueScope=a}(Ps)),Ps}var ea;function pe(){return ea||(ea=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=xn(),r=Qo();var n=xn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Qo();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(h,S){return this}}class o extends i{constructor(h,S,V){super(),this.varKind=h,this.name=S,this.rhs=V}render({es5:h,_n:S}){const V=h?r.varKinds.var:this.varKind,J=this.rhs===void 0?"":` = ${this.rhs}`;return`${V} ${this.name}${J};`+S}optimizeNames(h,S){if(h[this.name.str])return this.rhs&&(this.rhs=de(this.rhs,h,S)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends i{constructor(h,S,V){super(),this.lhs=h,this.rhs=S,this.sideEffects=V}render({_n:h}){return`${this.lhs} = ${this.rhs};`+h}optimizeNames(h,S){if(!(this.lhs instanceof t.Name&&!h[this.lhs.str]&&!this.sideEffects))return this.rhs=de(this.rhs,h,S),this}get names(){const h=this.lhs instanceof t.Name?{}:{...this.lhs.names};return fe(h,this.rhs)}}class l extends a{constructor(h,S,V,J){super(h,V,J),this.op=S}render({_n:h}){return`${this.lhs} ${this.op}= ${this.rhs};`+h}}class f extends i{constructor(h){super(),this.label=h,this.names={}}render({_n:h}){return`${this.label}:`+h}}class c extends i{constructor(h){super(),this.label=h,this.names={}}render({_n:h}){return`break${this.label?` ${this.label}`:""};`+h}}class d extends i{constructor(h){super(),this.error=h}render({_n:h}){return`throw ${this.error};`+h}get names(){return this.error.names}}class _ extends i{constructor(h){super(),this.code=h}render({_n:h}){return`${this.code};`+h}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(h,S){return this.code=de(this.code,h,S),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class b extends i{constructor(h=[]){super(),this.nodes=h}render(h){return this.nodes.reduce((S,V)=>S+V.render(h),"")}optimizeNodes(){const{nodes:h}=this;let S=h.length;for(;S--;){const V=h[S].optimizeNodes();Array.isArray(V)?h.splice(S,1,...V):V?h[S]=V:h.splice(S,1)}return h.length>0?this:void 0}optimizeNames(h,S){const{nodes:V}=this;let J=V.length;for(;J--;){const X=V[J];X.optimizeNames(h,S)||(Xe(h,X.names),V.splice(J,1))}return V.length>0?this:void 0}get names(){return this.nodes.reduce((h,S)=>re(h,S.names),{})}}class $ extends b{render(h){return"{"+h._n+super.render(h)+"}"+h._n}}class w extends b{}class v extends ${}v.kind="else";class g extends ${constructor(h,S){super(S),this.condition=h}render(h){let S=`if(${this.condition})`+super.render(h);return this.else&&(S+="else "+this.else.render(h)),S}optimizeNodes(){super.optimizeNodes();const h=this.condition;if(h===!0)return this.nodes;let S=this.else;if(S){const V=S.optimizeNodes();S=this.else=Array.isArray(V)?new v(V):V}if(S)return h===!1?S instanceof g?S:S.nodes:this.nodes.length?this:new g(Oe(h),S instanceof g?[S]:S.nodes);if(!(h===!1||!this.nodes.length))return this}optimizeNames(h,S){var V;if(this.else=(V=this.else)===null||V===void 0?void 0:V.optimizeNames(h,S),!!(super.optimizeNames(h,S)||this.else))return this.condition=de(this.condition,h,S),this}get names(){const h=super.names;return fe(h,this.condition),this.else&&re(h,this.else.names),h}}g.kind="if";class C extends ${}C.kind="for";class y extends C{constructor(h){super(),this.iteration=h}render(h){return`for(${this.iteration})`+super.render(h)}optimizeNames(h,S){if(super.optimizeNames(h,S))return this.iteration=de(this.iteration,h,S),this}get names(){return re(super.names,this.iteration.names)}}class R extends C{constructor(h,S,V,J){super(),this.varKind=h,this.name=S,this.from=V,this.to=J}render(h){const S=h.es5?r.varKinds.var:this.varKind,{name:V,from:J,to:X}=this;return`for(${S} ${V}=${J}; ${V}<${X}; ${V}++)`+super.render(h)}get names(){const h=fe(super.names,this.from);return fe(h,this.to)}}class U extends C{constructor(h,S,V,J){super(),this.loop=h,this.varKind=S,this.name=V,this.iterable=J}render(h){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(h)}optimizeNames(h,S){if(super.optimizeNames(h,S))return this.iterable=de(this.iterable,h,S),this}get names(){return re(super.names,this.iterable.names)}}class T extends ${constructor(h,S,V){super(),this.name=h,this.args=S,this.async=V}render(h){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(h)}}T.kind="func";class I extends b{render(h){return"return "+super.render(h)}}I.kind="return";class M extends ${render(h){let S="try"+super.render(h);return this.catch&&(S+=this.catch.render(h)),this.finally&&(S+=this.finally.render(h)),S}optimizeNodes(){var h,S;return super.optimizeNodes(),(h=this.catch)===null||h===void 0||h.optimizeNodes(),(S=this.finally)===null||S===void 0||S.optimizeNodes(),this}optimizeNames(h,S){var V,J;return super.optimizeNames(h,S),(V=this.catch)===null||V===void 0||V.optimizeNames(h,S),(J=this.finally)===null||J===void 0||J.optimizeNames(h,S),this}get names(){const h=super.names;return this.catch&&re(h,this.catch.names),this.finally&&re(h,this.finally.names),h}}class W extends ${constructor(h){super(),this.error=h}render(h){return`catch(${this.error})`+super.render(h)}}W.kind="catch";class Z extends ${render(h){return"finally"+super.render(h)}}Z.kind="finally";class ie{constructor(h,S={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...S,_n:S.lines?`
`:""},this._extScope=h,this._scope=new r.Scope({parent:h}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(h){return this._scope.name(h)}scopeName(h){return this._extScope.name(h)}scopeValue(h,S){const V=this._extScope.value(h,S);return(this._values[V.prefix]||(this._values[V.prefix]=new Set)).add(V),V}getScopeValue(h,S){return this._extScope.getValue(h,S)}scopeRefs(h){return this._extScope.scopeRefs(h,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(h,S,V,J){const X=this._scope.toName(S);return V!==void 0&&J&&(this._constants[X.str]=V),this._leafNode(new o(h,X,V)),X}const(h,S,V){return this._def(r.varKinds.const,h,S,V)}let(h,S,V){return this._def(r.varKinds.let,h,S,V)}var(h,S,V){return this._def(r.varKinds.var,h,S,V)}assign(h,S,V){return this._leafNode(new a(h,S,V))}add(h,S){return this._leafNode(new l(h,e.operators.ADD,S))}code(h){return typeof h=="function"?h():h!==t.nil&&this._leafNode(new _(h)),this}object(...h){const S=["{"];for(const[V,J]of h)S.length>1&&S.push(","),S.push(V),(V!==J||this.opts.es5)&&(S.push(":"),(0,t.addCodeArg)(S,J));return S.push("}"),new t._Code(S)}if(h,S,V){if(this._blockNode(new g(h)),S&&V)this.code(S).else().code(V).endIf();else if(S)this.code(S).endIf();else if(V)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(h){return this._elseNode(new g(h))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(g,v)}_for(h,S){return this._blockNode(h),S&&this.code(S).endFor(),this}for(h,S){return this._for(new y(h),S)}forRange(h,S,V,J,X=this.opts.es5?r.varKinds.var:r.varKinds.let){const ae=this._scope.toName(h);return this._for(new R(X,ae,S,V),()=>J(ae))}forOf(h,S,V,J=r.varKinds.const){const X=this._scope.toName(h);if(this.opts.es5){const ae=S instanceof t.Name?S:this.var("_arr",S);return this.forRange("_i",0,(0,t._)`${ae}.length`,ue=>{this.var(X,(0,t._)`${ae}[${ue}]`),V(X)})}return this._for(new U("of",J,X,S),()=>V(X))}forIn(h,S,V,J=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(h,(0,t._)`Object.keys(${S})`,V);const X=this._scope.toName(h);return this._for(new U("in",J,X,S),()=>V(X))}endFor(){return this._endBlockNode(C)}label(h){return this._leafNode(new f(h))}break(h){return this._leafNode(new c(h))}return(h){const S=new I;if(this._blockNode(S),this.code(h),S.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(I)}try(h,S,V){if(!S&&!V)throw new Error('CodeGen: "try" without "catch" and "finally"');const J=new M;if(this._blockNode(J),this.code(h),S){const X=this.name("e");this._currNode=J.catch=new W(X),S(X)}return V&&(this._currNode=J.finally=new Z,this.code(V)),this._endBlockNode(W,Z)}throw(h){return this._leafNode(new d(h))}block(h,S){return this._blockStarts.push(this._nodes.length),h&&this.code(h).endBlock(S),this}endBlock(h){const S=this._blockStarts.pop();if(S===void 0)throw new Error("CodeGen: not in self-balancing block");const V=this._nodes.length-S;if(V<0||h!==void 0&&V!==h)throw new Error(`CodeGen: wrong number of nodes: ${V} vs ${h} expected`);return this._nodes.length=S,this}func(h,S=t.nil,V,J){return this._blockNode(new T(h,S,V)),J&&this.code(J).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(h=1){for(;h-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(h){return this._currNode.nodes.push(h),this}_blockNode(h){this._currNode.nodes.push(h),this._nodes.push(h)}_endBlockNode(h,S){const V=this._currNode;if(V instanceof h||S&&V instanceof S)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${S?`${h.kind}/${S.kind}`:h.kind}"`)}_elseNode(h){const S=this._currNode;if(!(S instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=S.else=h,this}get _root(){return this._nodes[0]}get _currNode(){const h=this._nodes;return h[h.length-1]}set _currNode(h){const S=this._nodes;S[S.length-1]=h}}e.CodeGen=ie;function re(D,h){for(const S in h)D[S]=(D[S]||0)+(h[S]||0);return D}function fe(D,h){return h instanceof t._CodeOrName?re(D,h.names):D}function de(D,h,S){if(D instanceof t.Name)return V(D);if(!J(D))return D;return new t._Code(D._items.reduce((X,ae)=>(ae instanceof t.Name&&(ae=V(ae)),ae instanceof t._Code?X.push(...ae._items):X.push(ae),X),[]));function V(X){const ae=S[X.str];return ae===void 0||h[X.str]!==1?X:(delete h[X.str],ae)}function J(X){return X instanceof t._Code&&X._items.some(ae=>ae instanceof t.Name&&h[ae.str]===1&&S[ae.str]!==void 0)}}function Xe(D,h){for(const S in h)D[S]=(D[S]||0)-(h[S]||0)}function Oe(D){return typeof D=="boolean"||typeof D=="number"||D===null?!D:(0,t._)`!${H(D)}`}e.not=Oe;const we=A(e.operators.AND);function ye(...D){return D.reduce(we)}e.and=ye;const Ke=A(e.operators.OR);function B(...D){return D.reduce(Ke)}e.or=B;function A(D){return(h,S)=>h===t.nil?S:S===t.nil?h:(0,t._)`${H(h)} ${D} ${H(S)}`}function H(D){return D instanceof t.Name?D:(0,t._)`(${D})`}}(Es)),Es}var be={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=pe(),r=xn();function n(T){const I={};for(const M of T)I[M]=!0;return I}e.toHash=n;function s(T,I){return typeof I=="boolean"?I:Object.keys(I).length===0?!0:(i(T,I),!o(I,T.self.RULES.all))}e.alwaysValidSchema=s;function i(T,I=T.schema){const{opts:M,self:W}=T;if(!M.strictSchema||typeof I=="boolean")return;const Z=W.RULES.keywords;for(const ie in I)Z[ie]||U(T,`unknown keyword: "${ie}"`)}e.checkUnknownRules=i;function o(T,I){if(typeof T=="boolean")return!T;for(const M in T)if(I[M])return!0;return!1}e.schemaHasRules=o;function a(T,I){if(typeof T=="boolean")return!T;for(const M in T)if(M!=="$ref"&&I.all[M])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:T,schemaPath:I},M,W,Z){if(!Z){if(typeof M=="number"||typeof M=="boolean")return M;if(typeof M=="string")return(0,t._)`${M}`}return(0,t._)`${T}${I}${(0,t.getProperty)(W)}`}e.schemaRefOrVal=l;function f(T){return _(decodeURIComponent(T))}e.unescapeFragment=f;function c(T){return encodeURIComponent(d(T))}e.escapeFragment=c;function d(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=d;function _(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=_;function b(T,I){if(Array.isArray(T))for(const M of T)I(M);else I(T)}e.eachItem=b;function $({mergeNames:T,mergeToName:I,mergeValues:M,resultToName:W}){return(Z,ie,re,fe)=>{const de=re===void 0?ie:re instanceof t.Name?(ie instanceof t.Name?T(Z,ie,re):I(Z,ie,re),re):ie instanceof t.Name?(I(Z,re,ie),ie):M(ie,re);return fe===t.Name&&!(de instanceof t.Name)?W(Z,de):de}}e.mergeEvaluated={props:$({mergeNames:(T,I,M)=>T.if((0,t._)`${M} !== true && ${I} !== undefined`,()=>{T.if((0,t._)`${I} === true`,()=>T.assign(M,!0),()=>T.assign(M,(0,t._)`${M} || {}`).code((0,t._)`Object.assign(${M}, ${I})`))}),mergeToName:(T,I,M)=>T.if((0,t._)`${M} !== true`,()=>{I===!0?T.assign(M,!0):(T.assign(M,(0,t._)`${M} || {}`),v(T,M,I))}),mergeValues:(T,I)=>T===!0?!0:{...T,...I},resultToName:w}),items:$({mergeNames:(T,I,M)=>T.if((0,t._)`${M} !== true && ${I} !== undefined`,()=>T.assign(M,(0,t._)`${I} === true ? true : ${M} > ${I} ? ${M} : ${I}`)),mergeToName:(T,I,M)=>T.if((0,t._)`${M} !== true`,()=>T.assign(M,I===!0?!0:(0,t._)`${M} > ${I} ? ${M} : ${I}`)),mergeValues:(T,I)=>T===!0?!0:Math.max(T,I),resultToName:(T,I)=>T.var("items",I)})};function w(T,I){if(I===!0)return T.var("props",!0);const M=T.var("props",(0,t._)`{}`);return I!==void 0&&v(T,M,I),M}e.evaluatedPropsToName=w;function v(T,I,M){Object.keys(M).forEach(W=>T.assign((0,t._)`${I}${(0,t.getProperty)(W)}`,!0))}e.setEvaluated=v;const g={};function C(T,I){return T.scopeValue("func",{ref:I,code:g[I.code]||(g[I.code]=new r._Code(I.code))})}e.useFunc=C;var y;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(y=e.Type||(e.Type={}));function R(T,I,M){if(T instanceof t.Name){const W=I===y.Num;return M?W?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:W?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return M?(0,t.getProperty)(T).toString():"/"+d(T)}e.getErrorPath=R;function U(T,I,M=T.opts.strictSchema){if(M){if(I=`strict mode: ${I}`,M===!0)throw new Error(I);T.self.logger.warn(I)}}e.checkStrictMode=U})(be);var wn={},ta;function Xt(){if(ta)return wn;ta=1,Object.defineProperty(wn,"__esModule",{value:!0});const e=pe(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return wn.default=t,wn}var ra;function cs(){return ra||(ra=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=pe(),r=be,n=Xt();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:g})=>g?(0,t.str)`"${v}" keyword must be ${g} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function s(v,g=e.keywordError,C,y){const{it:R}=v,{gen:U,compositeRule:T,allErrors:I}=R,M=d(v,g,C);y??(T||I)?l(U,M):f(R,(0,t._)`[${M}]`)}e.reportError=s;function i(v,g=e.keywordError,C){const{it:y}=v,{gen:R,compositeRule:U,allErrors:T}=y,I=d(v,g,C);l(R,I),U||T||f(y,n.default.vErrors)}e.reportExtraError=i;function o(v,g){v.assign(n.default.errors,g),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(g,()=>v.assign((0,t._)`${n.default.vErrors}.length`,g),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:v,keyword:g,schemaValue:C,data:y,errsCount:R,it:U}){if(R===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",R,n.default.errors,I=>{v.const(T,(0,t._)`${n.default.vErrors}[${I}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,U.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${U.errSchemaPath}/${g}`),U.opts.verbose&&(v.assign((0,t._)`${T}.schema`,C),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=a;function l(v,g){const C=v.const("err",g);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${C}]`),(0,t._)`${n.default.vErrors}.push(${C})`),v.code((0,t._)`${n.default.errors}++`)}function f(v,g){const{gen:C,validateName:y,schemaEnv:R}=v;R.$async?C.throw((0,t._)`new ${v.ValidationError}(${g})`):(C.assign((0,t._)`${y}.errors`,g),C.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(v,g,C){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:_(v,g,C)}function _(v,g,C={}){const{gen:y,it:R}=v,U=[b(R,C),$(v,C)];return w(v,g,U),y.object(...U)}function b({errorPath:v},{instancePath:g}){const C=g?(0,t.str)`${v}${(0,r.getErrorPath)(g,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,C)]}function $({keyword:v,it:{errSchemaPath:g}},{schemaPath:C,parentSchema:y}){let R=y?g:(0,t.str)`${g}/${v}`;return C&&(R=(0,t.str)`${R}${(0,r.getErrorPath)(C,r.Type.Str)}`),[c.schemaPath,R]}function w(v,{params:g,message:C},y){const{keyword:R,data:U,schemaValue:T,it:I}=v,{opts:M,propertyName:W,topSchemaRef:Z,schemaPath:ie}=I;y.push([c.keyword,R],[c.params,typeof g=="function"?g(v):g||(0,t._)`{}`]),M.messages&&y.push([c.message,typeof C=="function"?C(v):C]),M.verbose&&y.push([c.schema,T],[c.parentSchema,(0,t._)`${Z}${ie}`],[n.default.data,U]),W&&y.push([c.propertyName,W])}}(ws)),ws}var na;function $d(){if(na)return nr;na=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.boolOrEmptySchema=nr.topBoolOrEmptySchema=void 0;const e=cs(),t=pe(),r=Xt(),n={message:"boolean schema is false"};function s(a){const{gen:l,schema:f,validateName:c}=a;f===!1?o(a,!1):typeof f=="object"&&f.$async===!0?l.return(r.default.data):(l.assign((0,t._)`${c}.errors`,null),l.return(!0))}nr.topBoolOrEmptySchema=s;function i(a,l){const{gen:f,schema:c}=a;c===!1?(f.var(l,!1),o(a)):f.var(l,!0)}nr.boolOrEmptySchema=i;function o(a,l){const{gen:f,data:c}=a,d={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(d,n,void 0,l)}return nr}var cn={},mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.getRules=mr.isJSONType=void 0;const bd=["string","number","integer","boolean","null","object","array"],wd=new Set(bd);function Ed(e){return typeof e=="string"&&wd.has(e)}mr.isJSONType=Ed;function Sd(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}mr.getRules=Sd;var jt={},sa;function Fl(){if(sa)return jt;sa=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.shouldUseRule=jt.shouldUseGroup=jt.schemaHasRulesForType=void 0;function e({schema:n,self:s},i){const o=s.RULES.types[i];return o&&o!==!0&&t(n,o)}jt.schemaHasRulesForType=e;function t(n,s){return s.rules.some(i=>r(n,i))}jt.shouldUseGroup=t;function r(n,s){var i;return n[s.keyword]!==void 0||((i=s.definition.implements)===null||i===void 0?void 0:i.some(o=>n[o]!==void 0))}return jt.shouldUseRule=r,jt}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=mr,r=Fl(),n=cs(),s=pe(),i=be;var o;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(y){const R=l(y.type);if(R.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!R.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&R.push("null")}return R}e.getSchemaTypes=a;function l(y){const R=Array.isArray(y)?y:y?[y]:[];if(R.every(t.isJSONType))return R;throw new Error("type must be JSONType or JSONType[]: "+R.join(","))}e.getJSONTypes=l;function f(y,R){const{gen:U,data:T,opts:I}=y,M=d(R,I.coerceTypes),W=R.length>0&&!(M.length===0&&R.length===1&&(0,r.schemaHasRulesForType)(y,R[0]));if(W){const Z=w(R,T,I.strictNumbers,o.Wrong);U.if(Z,()=>{M.length?_(y,R,M):g(y)})}return W}e.coerceAndCheckDataType=f;const c=new Set(["string","number","integer","boolean","null"]);function d(y,R){return R?y.filter(U=>c.has(U)||R==="array"&&U==="array"):[]}function _(y,R,U){const{gen:T,data:I,opts:M}=y,W=T.let("dataType",(0,s._)`typeof ${I}`),Z=T.let("coerced",(0,s._)`undefined`);M.coerceTypes==="array"&&T.if((0,s._)`${W} == 'object' && Array.isArray(${I}) && ${I}.length == 1`,()=>T.assign(I,(0,s._)`${I}[0]`).assign(W,(0,s._)`typeof ${I}`).if(w(R,I,M.strictNumbers),()=>T.assign(Z,I))),T.if((0,s._)`${Z} !== undefined`);for(const re of U)(c.has(re)||re==="array"&&M.coerceTypes==="array")&&ie(re);T.else(),g(y),T.endIf(),T.if((0,s._)`${Z} !== undefined`,()=>{T.assign(I,Z),b(y,Z)});function ie(re){switch(re){case"string":T.elseIf((0,s._)`${W} == "number" || ${W} == "boolean"`).assign(Z,(0,s._)`"" + ${I}`).elseIf((0,s._)`${I} === null`).assign(Z,(0,s._)`""`);return;case"number":T.elseIf((0,s._)`${W} == "boolean" || ${I} === null
              || (${W} == "string" && ${I} && ${I} == +${I})`).assign(Z,(0,s._)`+${I}`);return;case"integer":T.elseIf((0,s._)`${W} === "boolean" || ${I} === null
              || (${W} === "string" && ${I} && ${I} == +${I} && !(${I} % 1))`).assign(Z,(0,s._)`+${I}`);return;case"boolean":T.elseIf((0,s._)`${I} === "false" || ${I} === 0 || ${I} === null`).assign(Z,!1).elseIf((0,s._)`${I} === "true" || ${I} === 1`).assign(Z,!0);return;case"null":T.elseIf((0,s._)`${I} === "" || ${I} === 0 || ${I} === false`),T.assign(Z,null);return;case"array":T.elseIf((0,s._)`${W} === "string" || ${W} === "number"
              || ${W} === "boolean" || ${I} === null`).assign(Z,(0,s._)`[${I}]`)}}}function b({gen:y,parentData:R,parentDataProperty:U},T){y.if((0,s._)`${R} !== undefined`,()=>y.assign((0,s._)`${R}[${U}]`,T))}function $(y,R,U,T=o.Correct){const I=T===o.Correct?s.operators.EQ:s.operators.NEQ;let M;switch(y){case"null":return(0,s._)`${R} ${I} null`;case"array":M=(0,s._)`Array.isArray(${R})`;break;case"object":M=(0,s._)`${R} && typeof ${R} == "object" && !Array.isArray(${R})`;break;case"integer":M=W((0,s._)`!(${R} % 1) && !isNaN(${R})`);break;case"number":M=W();break;default:return(0,s._)`typeof ${R} ${I} ${y}`}return T===o.Correct?M:(0,s.not)(M);function W(Z=s.nil){return(0,s.and)((0,s._)`typeof ${R} == "number"`,Z,U?(0,s._)`isFinite(${R})`:s.nil)}}e.checkDataType=$;function w(y,R,U,T){if(y.length===1)return $(y[0],R,U,T);let I;const M=(0,i.toHash)(y);if(M.array&&M.object){const W=(0,s._)`typeof ${R} != "object"`;I=M.null?W:(0,s._)`!${R} || ${W}`,delete M.null,delete M.array,delete M.object}else I=s.nil;M.number&&delete M.integer;for(const W in M)I=(0,s.and)(I,$(W,R,U,T));return I}e.checkDataTypes=w;const v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:R})=>typeof y=="string"?(0,s._)`{type: ${y}}`:(0,s._)`{type: ${R}}`};function g(y){const R=C(y);(0,n.reportError)(R,v)}e.reportTypeError=g;function C(y){const{gen:R,data:U,schema:T}=y,I=(0,i.schemaRefOrVal)(y,T,"type");return{gen:R,keyword:"type",data:U,schema:T.type,schemaCode:I,schemaValue:I,parentSchema:T,params:{},it:y}}})(cn);var qr={},ia;function Pd(){if(ia)return qr;ia=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.assignDefaults=void 0;const e=pe(),t=be;function r(s,i){const{properties:o,items:a}=s.schema;if(i==="object"&&o)for(const l in o)n(s,l,o[l].default);else i==="array"&&Array.isArray(a)&&a.forEach((l,f)=>n(s,f,l.default))}qr.assignDefaults=r;function n(s,i,o){const{gen:a,compositeRule:l,data:f,opts:c}=s;if(o===void 0)return;const d=(0,e._)`${f}${(0,e.getProperty)(i)}`;if(l){(0,t.checkStrictMode)(s,`default is ignored for: ${d}`);return}let _=(0,e._)`${d} === undefined`;c.useDefaults==="empty"&&(_=(0,e._)`${_} || ${d} === null || ${d} === ""`),a.if(_,(0,e._)`${d} = ${(0,e.stringify)(o)}`)}return qr}var ht={},Pe={},oa;function Et(){if(oa)return Pe;oa=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.validateUnion=Pe.validateArray=Pe.usePattern=Pe.callValidateCode=Pe.schemaProperties=Pe.allSchemaProperties=Pe.noPropertyInData=Pe.propertyInData=Pe.isOwnProperty=Pe.hasPropFunc=Pe.reportMissingProp=Pe.checkMissingProp=Pe.checkReportMissingProp=void 0;const e=pe(),t=be,r=Xt(),n=be;function s(C,y){const{gen:R,data:U,it:T}=C;R.if(c(R,U,y,T.opts.ownProperties),()=>{C.setParams({missingProperty:(0,e._)`${y}`},!0),C.error()})}Pe.checkReportMissingProp=s;function i({gen:C,data:y,it:{opts:R}},U,T){return(0,e.or)(...U.map(I=>(0,e.and)(c(C,y,I,R.ownProperties),(0,e._)`${T} = ${I}`)))}Pe.checkMissingProp=i;function o(C,y){C.setParams({missingProperty:y},!0),C.error()}Pe.reportMissingProp=o;function a(C){return C.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Pe.hasPropFunc=a;function l(C,y,R){return(0,e._)`${a(C)}.call(${y}, ${R})`}Pe.isOwnProperty=l;function f(C,y,R,U){const T=(0,e._)`${y}${(0,e.getProperty)(R)} !== undefined`;return U?(0,e._)`${T} && ${l(C,y,R)}`:T}Pe.propertyInData=f;function c(C,y,R,U){const T=(0,e._)`${y}${(0,e.getProperty)(R)} === undefined`;return U?(0,e.or)(T,(0,e.not)(l(C,y,R))):T}Pe.noPropertyInData=c;function d(C){return C?Object.keys(C).filter(y=>y!=="__proto__"):[]}Pe.allSchemaProperties=d;function _(C,y){return d(y).filter(R=>!(0,t.alwaysValidSchema)(C,y[R]))}Pe.schemaProperties=_;function b({schemaCode:C,data:y,it:{gen:R,topSchemaRef:U,schemaPath:T,errorPath:I},it:M},W,Z,ie){const re=ie?(0,e._)`${C}, ${y}, ${U}${T}`:y,fe=[[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,I)],[r.default.parentData,M.parentData],[r.default.parentDataProperty,M.parentDataProperty],[r.default.rootData,r.default.rootData]];M.opts.dynamicRef&&fe.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const de=(0,e._)`${re}, ${R.object(...fe)}`;return Z!==e.nil?(0,e._)`${W}.call(${Z}, ${de})`:(0,e._)`${W}(${de})`}Pe.callValidateCode=b;const $=(0,e._)`new RegExp`;function w({gen:C,it:{opts:y}},R){const U=y.unicodeRegExp?"u":"",{regExp:T}=y.code,I=T(R,U);return C.scopeValue("pattern",{key:I.toString(),ref:I,code:(0,e._)`${T.code==="new RegExp"?$:(0,n.useFunc)(C,T)}(${R}, ${U})`})}Pe.usePattern=w;function v(C){const{gen:y,data:R,keyword:U,it:T}=C,I=y.name("valid");if(T.allErrors){const W=y.let("valid",!0);return M(()=>y.assign(W,!1)),W}return y.var(I,!0),M(()=>y.break()),I;function M(W){const Z=y.const("len",(0,e._)`${R}.length`);y.forRange("i",0,Z,ie=>{C.subschema({keyword:U,dataProp:ie,dataPropType:t.Type.Num},I),y.if((0,e.not)(I),W)})}}Pe.validateArray=v;function g(C){const{gen:y,schema:R,keyword:U,it:T}=C;if(!Array.isArray(R))throw new Error("ajv implementation error");if(R.some(Z=>(0,t.alwaysValidSchema)(T,Z))&&!T.opts.unevaluated)return;const M=y.let("valid",!1),W=y.name("_valid");y.block(()=>R.forEach((Z,ie)=>{const re=C.subschema({keyword:U,schemaProp:ie,compositeRule:!0},W);y.assign(M,(0,e._)`${M} || ${W}`),C.mergeValidEvaluated(re,W)||y.if((0,e.not)(M))})),C.result(M,()=>C.reset(),()=>C.error(!0))}return Pe.validateUnion=g,Pe}var aa;function Od(){if(aa)return ht;aa=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.validateKeywordUsage=ht.validSchemaType=ht.funcKeywordCode=ht.macroKeywordCode=void 0;const e=pe(),t=Xt(),r=Et(),n=cs();function s(_,b){const{gen:$,keyword:w,schema:v,parentSchema:g,it:C}=_,y=b.macro.call(C.self,v,g,C),R=f($,w,y);C.opts.validateSchema!==!1&&C.self.validateSchema(y,!0);const U=$.name("valid");_.subschema({schema:y,schemaPath:e.nil,errSchemaPath:`${C.errSchemaPath}/${w}`,topSchemaRef:R,compositeRule:!0},U),_.pass(U,()=>_.error(!0))}ht.macroKeywordCode=s;function i(_,b){var $;const{gen:w,keyword:v,schema:g,parentSchema:C,$data:y,it:R}=_;l(R,b);const U=!y&&b.compile?b.compile.call(R.self,g,C,R):b.validate,T=f(w,v,U),I=w.let("valid");_.block$data(I,M),_.ok(($=b.valid)!==null&&$!==void 0?$:I);function M(){if(b.errors===!1)ie(),b.modifying&&o(_),re(()=>_.error());else{const fe=b.async?W():Z();b.modifying&&o(_),re(()=>a(_,fe))}}function W(){const fe=w.let("ruleErrs",null);return w.try(()=>ie((0,e._)`await `),de=>w.assign(I,!1).if((0,e._)`${de} instanceof ${R.ValidationError}`,()=>w.assign(fe,(0,e._)`${de}.errors`),()=>w.throw(de))),fe}function Z(){const fe=(0,e._)`${T}.errors`;return w.assign(fe,null),ie(e.nil),fe}function ie(fe=b.async?(0,e._)`await `:e.nil){const de=R.opts.passContext?t.default.this:t.default.self,Xe=!("compile"in b&&!y||b.schema===!1);w.assign(I,(0,e._)`${fe}${(0,r.callValidateCode)(_,T,de,Xe)}`,b.modifying)}function re(fe){var de;w.if((0,e.not)((de=b.valid)!==null&&de!==void 0?de:I),fe)}}ht.funcKeywordCode=i;function o(_){const{gen:b,data:$,it:w}=_;b.if(w.parentData,()=>b.assign($,(0,e._)`${w.parentData}[${w.parentDataProperty}]`))}function a(_,b){const{gen:$}=_;$.if((0,e._)`Array.isArray(${b})`,()=>{$.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${b} : ${t.default.vErrors}.concat(${b})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(_)},()=>_.error())}function l({schemaEnv:_},b){if(b.async&&!_.$async)throw new Error("async keyword in sync schema")}function f(_,b,$){if($===void 0)throw new Error(`keyword "${b}" failed to compile`);return _.scopeValue("keyword",typeof $=="function"?{ref:$}:{ref:$,code:(0,e.stringify)($)})}function c(_,b,$=!1){return!b.length||b.some(w=>w==="array"?Array.isArray(_):w==="object"?_&&typeof _=="object"&&!Array.isArray(_):typeof _==w||$&&typeof _>"u")}ht.validSchemaType=c;function d({schema:_,opts:b,self:$,errSchemaPath:w},v,g){if(Array.isArray(v.keyword)?!v.keyword.includes(g):v.keyword!==g)throw new Error("ajv implementation error");const C=v.dependencies;if(C!=null&&C.some(y=>!Object.prototype.hasOwnProperty.call(_,y)))throw new Error(`parent schema must have dependencies of ${g}: ${C.join(",")}`);if(v.validateSchema&&!v.validateSchema(_[g])){const R=`keyword "${g}" value is invalid at path "${w}": `+$.errorsText(v.validateSchema.errors);if(b.validateSchema==="log")$.logger.error(R);else throw new Error(R)}}return ht.validateKeywordUsage=d,ht}var kt={},la;function Cd(){if(la)return kt;la=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.extendSubschemaMode=kt.extendSubschemaData=kt.getSubschema=void 0;const e=pe(),t=be;function r(i,{keyword:o,schemaProp:a,schema:l,schemaPath:f,errSchemaPath:c,topSchemaRef:d}){if(o!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const _=i.schema[o];return a===void 0?{schema:_,schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${i.errSchemaPath}/${o}`}:{schema:_[a],schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(a)}`,errSchemaPath:`${i.errSchemaPath}/${o}/${(0,t.escapeFragment)(a)}`}}if(l!==void 0){if(f===void 0||c===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:f,topSchemaRef:d,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}kt.getSubschema=r;function n(i,o,{dataProp:a,dataPropType:l,data:f,dataTypes:c,propertyName:d}){if(f!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:_}=o;if(a!==void 0){const{errorPath:$,dataPathArr:w,opts:v}=o,g=_.let("data",(0,e._)`${o.data}${(0,e.getProperty)(a)}`,!0);b(g),i.errorPath=(0,e.str)`${$}${(0,t.getErrorPath)(a,l,v.jsPropertySyntax)}`,i.parentDataProperty=(0,e._)`${a}`,i.dataPathArr=[...w,i.parentDataProperty]}if(f!==void 0){const $=f instanceof e.Name?f:_.let("data",f,!0);b($),d!==void 0&&(i.propertyName=d)}c&&(i.dataTypes=c);function b($){i.data=$,i.dataLevel=o.dataLevel+1,i.dataTypes=[],o.definedProperties=new Set,i.parentData=o.data,i.dataNames=[...o.dataNames,$]}}kt.extendSubschemaData=n;function s(i,{jtdDiscriminator:o,jtdMetadata:a,compositeRule:l,createErrors:f,allErrors:c}){l!==void 0&&(i.compositeRule=l),f!==void 0&&(i.createErrors=f),c!==void 0&&(i.allErrors=c),i.jtdDiscriminator=o,i.jtdMetadata=a}return kt.extendSubschemaMode=s,kt}var He={},Ll=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},Vl={exports:{}},Yt=Vl.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Mn(t,n,s,e,"",e)};Yt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Yt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Yt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Yt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Mn(e,t,r,n,s,i,o,a,l,f){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,i,o,a,l,f);for(var c in n){var d=n[c];if(Array.isArray(d)){if(c in Yt.arrayKeywords)for(var _=0;_<d.length;_++)Mn(e,t,r,d[_],s+"/"+c+"/"+_,i,s,c,n,_)}else if(c in Yt.propsKeywords){if(d&&typeof d=="object")for(var b in d)Mn(e,t,r,d[b],s+"/"+c+"/"+Nd(b),i,s,c,n,b)}else(c in Yt.keywords||e.allKeys&&!(c in Yt.skipKeywords))&&Mn(e,t,r,d,s+"/"+c,i,s,c,n)}r(n,s,i,o,a,l,f)}}function Nd(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Td=Vl.exports;Object.defineProperty(He,"__esModule",{value:!0});He.getSchemaRefs=He.resolveUrl=He.normalizeId=He._getFullPath=He.getFullPath=He.inlineRef=void 0;const Rd=be,Ad=Ll,Id=Td,jd=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function kd(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Ys(e):t?Ul(e)<=t:!1}He.inlineRef=kd;const Dd=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Ys(e){for(const t in e){if(Dd.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Ys)||typeof r=="object"&&Ys(r))return!0}return!1}function Ul(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!jd.has(r)&&(typeof e[r]=="object"&&(0,Rd.eachItem)(e[r],n=>t+=Ul(n)),t===1/0))return 1/0}return t}function ql(e,t="",r){r!==!1&&(t=Or(t));const n=e.parse(t);return Hl(e,n)}He.getFullPath=ql;function Hl(e,t){return e.serialize(t).split("#")[0]+"#"}He._getFullPath=Hl;const Md=/#\/?$/;function Or(e){return e?e.replace(Md,""):""}He.normalizeId=Or;function Fd(e,t,r){return r=Or(r),e.resolve(t,r)}He.resolveUrl=Fd;const Ld=/^[a-z_][-a-z0-9._]*$/i;function Vd(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=Or(e[r]||t),i={"":s},o=ql(n,s,!1),a={},l=new Set;return Id(e,{allKeys:!0},(d,_,b,$)=>{if($===void 0)return;const w=o+_;let v=i[$];typeof d[r]=="string"&&(v=g.call(this,d[r])),C.call(this,d.$anchor),C.call(this,d.$dynamicAnchor),i[_]=v;function g(y){const R=this.opts.uriResolver.resolve;if(y=Or(v?R(v,y):y),l.has(y))throw c(y);l.add(y);let U=this.refs[y];return typeof U=="string"&&(U=this.refs[U]),typeof U=="object"?f(d,U.schema,y):y!==Or(w)&&(y[0]==="#"?(f(d,a[y],y),a[y]=d):this.refs[y]=w),y}function C(y){if(typeof y=="string"){if(!Ld.test(y))throw new Error(`invalid anchor "${y}"`);g.call(this,`#${y}`)}}}),a;function f(d,_,b){if(_!==void 0&&!Ad(d,_))throw c(b)}function c(d){return new Error(`reference "${d}" resolves to more than one schema`)}}He.getSchemaRefs=Vd;var ca;function us(){if(ca)return It;ca=1,Object.defineProperty(It,"__esModule",{value:!0}),It.getData=It.KeywordCxt=It.validateFunctionCode=void 0;const e=$d(),t=cn,r=Fl(),n=cn,s=Pd(),i=Od(),o=Cd(),a=pe(),l=Xt(),f=He,c=be,d=cs();function _(N){if(U(N)&&(I(N),R(N))){v(N);return}b(N,()=>(0,e.topBoolOrEmptySchema)(N))}It.validateFunctionCode=_;function b({gen:N,validateName:u,schema:p,schemaEnv:P,opts:j},k){j.code.es5?N.func(u,(0,a._)`${l.default.data}, ${l.default.valCxt}`,P.$async,()=>{N.code((0,a._)`"use strict"; ${C(p,j)}`),w(N,j),N.code(k)}):N.func(u,(0,a._)`${l.default.data}, ${$(j)}`,P.$async,()=>N.code(C(p,j)).code(k))}function $(N){return(0,a._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${N.dynamicRef?(0,a._)`, ${l.default.dynamicAnchors}={}`:a.nil}}={}`}function w(N,u){N.if(l.default.valCxt,()=>{N.var(l.default.instancePath,(0,a._)`${l.default.valCxt}.${l.default.instancePath}`),N.var(l.default.parentData,(0,a._)`${l.default.valCxt}.${l.default.parentData}`),N.var(l.default.parentDataProperty,(0,a._)`${l.default.valCxt}.${l.default.parentDataProperty}`),N.var(l.default.rootData,(0,a._)`${l.default.valCxt}.${l.default.rootData}`),u.dynamicRef&&N.var(l.default.dynamicAnchors,(0,a._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{N.var(l.default.instancePath,(0,a._)`""`),N.var(l.default.parentData,(0,a._)`undefined`),N.var(l.default.parentDataProperty,(0,a._)`undefined`),N.var(l.default.rootData,l.default.data),u.dynamicRef&&N.var(l.default.dynamicAnchors,(0,a._)`{}`)})}function v(N){const{schema:u,opts:p,gen:P}=N;b(N,()=>{p.$comment&&u.$comment&&fe(N),Z(N),P.let(l.default.vErrors,null),P.let(l.default.errors,0),p.unevaluated&&g(N),M(N),de(N)})}function g(N){const{gen:u,validateName:p}=N;N.evaluated=u.const("evaluated",(0,a._)`${p}.evaluated`),u.if((0,a._)`${N.evaluated}.dynamicProps`,()=>u.assign((0,a._)`${N.evaluated}.props`,(0,a._)`undefined`)),u.if((0,a._)`${N.evaluated}.dynamicItems`,()=>u.assign((0,a._)`${N.evaluated}.items`,(0,a._)`undefined`))}function C(N,u){const p=typeof N=="object"&&N[u.schemaId];return p&&(u.code.source||u.code.process)?(0,a._)`/*# sourceURL=${p} */`:a.nil}function y(N,u){if(U(N)&&(I(N),R(N))){T(N,u);return}(0,e.boolOrEmptySchema)(N,u)}function R({schema:N,self:u}){if(typeof N=="boolean")return!N;for(const p in N)if(u.RULES.all[p])return!0;return!1}function U(N){return typeof N.schema!="boolean"}function T(N,u){const{schema:p,gen:P,opts:j}=N;j.$comment&&p.$comment&&fe(N),ie(N),re(N);const k=P.const("_errs",l.default.errors);M(N,k),P.var(u,(0,a._)`${k} === ${l.default.errors}`)}function I(N){(0,c.checkUnknownRules)(N),W(N)}function M(N,u){if(N.opts.jtd)return Oe(N,[],!1,u);const p=(0,t.getSchemaTypes)(N.schema),P=(0,t.coerceAndCheckDataType)(N,p);Oe(N,p,!P,u)}function W(N){const{schema:u,errSchemaPath:p,opts:P,self:j}=N;u.$ref&&P.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(u,j.RULES)&&j.logger.warn(`$ref: keywords ignored in schema at path "${p}"`)}function Z(N){const{schema:u,opts:p}=N;u.default!==void 0&&p.useDefaults&&p.strictSchema&&(0,c.checkStrictMode)(N,"default is ignored in the schema root")}function ie(N){const u=N.schema[N.opts.schemaId];u&&(N.baseId=(0,f.resolveUrl)(N.opts.uriResolver,N.baseId,u))}function re(N){if(N.schema.$async&&!N.schemaEnv.$async)throw new Error("async schema in sync schema")}function fe({gen:N,schemaEnv:u,schema:p,errSchemaPath:P,opts:j}){const k=p.$comment;if(j.$comment===!0)N.code((0,a._)`${l.default.self}.logger.log(${k})`);else if(typeof j.$comment=="function"){const K=(0,a.str)`${P}/$comment`,Y=N.scopeValue("root",{ref:u.root});N.code((0,a._)`${l.default.self}.opts.$comment(${k}, ${K}, ${Y}.schema)`)}}function de(N){const{gen:u,schemaEnv:p,validateName:P,ValidationError:j,opts:k}=N;p.$async?u.if((0,a._)`${l.default.errors} === 0`,()=>u.return(l.default.data),()=>u.throw((0,a._)`new ${j}(${l.default.vErrors})`)):(u.assign((0,a._)`${P}.errors`,l.default.vErrors),k.unevaluated&&Xe(N),u.return((0,a._)`${l.default.errors} === 0`))}function Xe({gen:N,evaluated:u,props:p,items:P}){p instanceof a.Name&&N.assign((0,a._)`${u}.props`,p),P instanceof a.Name&&N.assign((0,a._)`${u}.items`,P)}function Oe(N,u,p,P){const{gen:j,schema:k,data:K,allErrors:Y,opts:x,self:z}=N,{RULES:q}=z;if(k.$ref&&(x.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(k,q))){j.block(()=>J(N,"$ref",q.all.$ref.definition));return}x.jtd||ye(N,u),j.block(()=>{for(const G of q.rules)Q(G);Q(q.post)});function Q(G){(0,r.shouldUseGroup)(k,G)&&(G.type?(j.if((0,n.checkDataType)(G.type,K,x.strictNumbers)),we(N,G),u.length===1&&u[0]===G.type&&p&&(j.else(),(0,n.reportTypeError)(N)),j.endIf()):we(N,G),Y||j.if((0,a._)`${l.default.errors} === ${P||0}`))}}function we(N,u){const{gen:p,schema:P,opts:{useDefaults:j}}=N;j&&(0,s.assignDefaults)(N,u.type),p.block(()=>{for(const k of u.rules)(0,r.shouldUseRule)(P,k)&&J(N,k.keyword,k.definition,u.type)})}function ye(N,u){N.schemaEnv.meta||!N.opts.strictTypes||(Ke(N,u),N.opts.allowUnionTypes||B(N,u),A(N,N.dataTypes))}function Ke(N,u){if(u.length){if(!N.dataTypes.length){N.dataTypes=u;return}u.forEach(p=>{D(N.dataTypes,p)||S(N,`type "${p}" not allowed by context "${N.dataTypes.join(",")}"`)}),h(N,u)}}function B(N,u){u.length>1&&!(u.length===2&&u.includes("null"))&&S(N,"use allowUnionTypes to allow union type keyword")}function A(N,u){const p=N.self.RULES.all;for(const P in p){const j=p[P];if(typeof j=="object"&&(0,r.shouldUseRule)(N.schema,j)){const{type:k}=j.definition;k.length&&!k.some(K=>H(u,K))&&S(N,`missing type "${k.join(",")}" for keyword "${P}"`)}}}function H(N,u){return N.includes(u)||u==="number"&&N.includes("integer")}function D(N,u){return N.includes(u)||u==="integer"&&N.includes("number")}function h(N,u){const p=[];for(const P of N.dataTypes)D(u,P)?p.push(P):u.includes("integer")&&P==="number"&&p.push("integer");N.dataTypes=p}function S(N,u){const p=N.schemaEnv.baseId+N.errSchemaPath;u+=` at "${p}" (strictTypes)`,(0,c.checkStrictMode)(N,u,N.opts.strictTypes)}class V{constructor(u,p,P){if((0,i.validateKeywordUsage)(u,p,P),this.gen=u.gen,this.allErrors=u.allErrors,this.keyword=P,this.data=u.data,this.schema=u.schema[P],this.$data=p.$data&&u.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(u,this.schema,P,this.$data),this.schemaType=p.schemaType,this.parentSchema=u.schema,this.params={},this.it=u,this.def=p,this.$data)this.schemaCode=u.gen.const("vSchema",ue(this.$data,u));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,p.schemaType,p.allowUndefined))throw new Error(`${P} value must be ${JSON.stringify(p.schemaType)}`);("code"in p?p.trackErrors:p.errors!==!1)&&(this.errsCount=u.gen.const("_errs",l.default.errors))}result(u,p,P){this.failResult((0,a.not)(u),p,P)}failResult(u,p,P){this.gen.if(u),P?P():this.error(),p?(this.gen.else(),p(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(u,p){this.failResult((0,a.not)(u),void 0,p)}fail(u){if(u===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(u),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(u){if(!this.$data)return this.fail(u);const{schemaCode:p}=this;this.fail((0,a._)`${p} !== undefined && (${(0,a.or)(this.invalid$data(),u)})`)}error(u,p,P){if(p){this.setParams(p),this._error(u,P),this.setParams({});return}this._error(u,P)}_error(u,p){(u?d.reportExtraError:d.reportError)(this,this.def.error,p)}$dataError(){(0,d.reportError)(this,this.def.$dataError||d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,d.resetErrorsCount)(this.gen,this.errsCount)}ok(u){this.allErrors||this.gen.if(u)}setParams(u,p){p?Object.assign(this.params,u):this.params=u}block$data(u,p,P=a.nil){this.gen.block(()=>{this.check$data(u,P),p()})}check$data(u=a.nil,p=a.nil){if(!this.$data)return;const{gen:P,schemaCode:j,schemaType:k,def:K}=this;P.if((0,a.or)((0,a._)`${j} === undefined`,p)),u!==a.nil&&P.assign(u,!0),(k.length||K.validateSchema)&&(P.elseIf(this.invalid$data()),this.$dataError(),u!==a.nil&&P.assign(u,!1)),P.else()}invalid$data(){const{gen:u,schemaCode:p,schemaType:P,def:j,it:k}=this;return(0,a.or)(K(),Y());function K(){if(P.length){if(!(p instanceof a.Name))throw new Error("ajv implementation error");const x=Array.isArray(P)?P:[P];return(0,a._)`${(0,n.checkDataTypes)(x,p,k.opts.strictNumbers,n.DataType.Wrong)}`}return a.nil}function Y(){if(j.validateSchema){const x=u.scopeValue("validate$data",{ref:j.validateSchema});return(0,a._)`!${x}(${p})`}return a.nil}}subschema(u,p){const P=(0,o.getSubschema)(this.it,u);(0,o.extendSubschemaData)(P,this.it,u),(0,o.extendSubschemaMode)(P,u);const j={...this.it,...P,items:void 0,props:void 0};return y(j,p),j}mergeEvaluated(u,p){const{it:P,gen:j}=this;P.opts.unevaluated&&(P.props!==!0&&u.props!==void 0&&(P.props=c.mergeEvaluated.props(j,u.props,P.props,p)),P.items!==!0&&u.items!==void 0&&(P.items=c.mergeEvaluated.items(j,u.items,P.items,p)))}mergeValidEvaluated(u,p){const{it:P,gen:j}=this;if(P.opts.unevaluated&&(P.props!==!0||P.items!==!0))return j.if(p,()=>this.mergeEvaluated(u,a.Name)),!0}}It.KeywordCxt=V;function J(N,u,p,P){const j=new V(N,p,u);"code"in p?p.code(j,P):j.$data&&p.validate?(0,i.funcKeywordCode)(j,p):"macro"in p?(0,i.macroKeywordCode)(j,p):(p.compile||p.validate)&&(0,i.funcKeywordCode)(j,p)}const X=/^\/(?:[^~]|~0|~1)*$/,ae=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ue(N,{dataLevel:u,dataNames:p,dataPathArr:P}){let j,k;if(N==="")return l.default.rootData;if(N[0]==="/"){if(!X.test(N))throw new Error(`Invalid JSON-pointer: ${N}`);j=N,k=l.default.rootData}else{const z=ae.exec(N);if(!z)throw new Error(`Invalid JSON-pointer: ${N}`);const q=+z[1];if(j=z[2],j==="#"){if(q>=u)throw new Error(x("property/index",q));return P[u-q]}if(q>u)throw new Error(x("data",q));if(k=p[u-q],!j)return k}let K=k;const Y=j.split("/");for(const z of Y)z&&(k=(0,a._)`${k}${(0,a.getProperty)((0,c.unescapeJsonPointer)(z))}`,K=(0,a._)`${K} && ${k}`);return K;function x(z,q){return`Cannot access ${z} ${q} levels up, current level is ${u}`}}return It.getData=ue,It}var En={},ua;function $i(){if(ua)return En;ua=1,Object.defineProperty(En,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return En.default=e,En}var Sn={},fa;function bi(){if(fa)return Sn;fa=1,Object.defineProperty(Sn,"__esModule",{value:!0});const e=He;class t extends Error{constructor(n,s,i,o){super(o||`can't resolve reference ${i} from id ${s}`),this.missingRef=(0,e.resolveUrl)(n,s,i),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return Sn.default=t,Sn}var tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.resolveSchema=tt.getCompilingSchema=tt.resolveRef=tt.compileSchema=tt.SchemaEnv=void 0;const pt=pe(),Ud=$i(),sr=Xt(),vt=He,da=be,qd=us();class fs{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,vt.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}tt.SchemaEnv=fs;function wi(e){const t=Kl.call(this,e);if(t)return t;const r=(0,vt.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,o=new pt.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i});let a;e.$async&&(a=o.scopeValue("Error",{ref:Ud.default,code:(0,pt._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const f={gen:o,allErrors:this.opts.allErrors,data:sr.default.data,parentData:sr.default.parentData,parentDataProperty:sr.default.parentDataProperty,dataNames:[sr.default.data],dataPathArr:[pt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,pt.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:pt.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,pt._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,qd.validateFunctionCode)(f),o.optimize(this.opts.code.optimize);const d=o.toString();c=`${o.scopeRefs(sr.default.scope)}return ${d}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const b=new Function(`${sr.default.self}`,`${sr.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:b}),b.errors=null,b.schema=e.schema,b.schemaEnv=e,e.$async&&(b.$async=!0),this.opts.code.source===!0&&(b.source={validateName:l,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){const{props:$,items:w}=f;b.evaluated={props:$ instanceof pt.Name?void 0:$,items:w instanceof pt.Name?void 0:w,dynamicProps:$ instanceof pt.Name,dynamicItems:w instanceof pt.Name},b.source&&(b.source.evaluated=(0,pt.stringify)(b.evaluated))}return e.validate=b,e}catch(d){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),d}finally{this._compilations.delete(e)}}tt.compileSchema=wi;function Hd(e,t,r){var n;r=(0,vt.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let i=zd.call(this,e,r);if(i===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(i=new fs({schema:o,schemaId:a,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=Kd.call(this,i)}tt.resolveRef=Hd;function Kd(e){return(0,vt.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:wi.call(this,e)}function Kl(e){for(const t of this._compilations)if(xd(t,e))return t}tt.getCompilingSchema=Kl;function xd(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function zd(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||ds.call(this,e,t)}function ds(e,t){const r=this.opts.uriResolver.parse(t),n=(0,vt._getFullPath)(this.opts.uriResolver,r);let s=(0,vt.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return Os.call(this,r,e);const i=(0,vt.normalizeId)(n),o=this.refs[i]||this.schemas[i];if(typeof o=="string"){const a=ds.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:Os.call(this,r,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||wi.call(this,o),i===(0,vt.normalizeId)(t)){const{schema:a}=o,{schemaId:l}=this.opts,f=a[l];return f&&(s=(0,vt.resolveUrl)(this.opts.uriResolver,s,f)),new fs({schema:a,schemaId:l,root:e,baseId:s})}return Os.call(this,r,o)}}tt.resolveSchema=ds;const Bd=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Os(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,da.unescapeFragment)(a)];if(l===void 0)return;r=l;const f=typeof r=="object"&&r[this.opts.schemaId];!Bd.has(a)&&f&&(t=(0,vt.resolveUrl)(this.opts.uriResolver,t,f))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,da.schemaHasRulesButRef)(r,this.RULES)){const a=(0,vt.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=ds.call(this,n,a)}const{schemaId:o}=this.opts;if(i=i||new fs({schema:r,schemaId:o,root:n,baseId:t}),i.schema!==i.root.schema)return i}var Yd="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Gd="Meta-schema for $data reference (JSON AnySchema extension proposal)",Wd="object",Jd=["$data"],Zd={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Xd=!1,Qd={$id:Yd,description:Gd,type:Wd,required:Jd,properties:Zd,additionalProperties:Xd},Ei={},Gs={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(vd,function(r){function n(){for(var E=arguments.length,m=Array(E),O=0;O<E;O++)m[O]=arguments[O];if(m.length>1){m[0]=m[0].slice(0,-1);for(var L=m.length-1,F=1;F<L;++F)m[F]=m[F].slice(1,-1);return m[L]=m[L].slice(1),m.join("")}else return m[0]}function s(E){return"(?:"+E+")"}function i(E){return E===void 0?"undefined":E===null?"null":Object.prototype.toString.call(E).split(" ").pop().split("]").shift().toLowerCase()}function o(E){return E.toUpperCase()}function a(E){return E!=null?E instanceof Array?E:typeof E.length!="number"||E.split||E.setInterval||E.call?[E]:Array.prototype.slice.call(E):[]}function l(E,m){var O=E;if(m)for(var L in m)O[L]=m[L];return O}function f(E){var m="[A-Za-z]",O="[0-9]",L=n(O,"[A-Fa-f]"),F=s(s("%[EFef]"+L+"%"+L+L+"%"+L+L)+"|"+s("%[89A-Fa-f]"+L+"%"+L+L)+"|"+s("%"+L+L)),te="[\\:\\/\\?\\#\\[\\]\\@]",ne="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ge=n(te,ne),Ne=E?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ke=E?"[\\uE000-\\uF8FF]":"[]",me=n(m,O,"[\\-\\.\\_\\~]",Ne);s(m+n(m,O,"[\\+\\-\\.]")+"*"),s(s(F+"|"+n(me,ne,"[\\:]"))+"*");var Ce=s(s("25[0-5]")+"|"+s("2[0-4]"+O)+"|"+s("1"+O+O)+"|"+s("0?[1-9]"+O)+"|0?0?"+O),De=s(Ce+"\\."+Ce+"\\."+Ce+"\\."+Ce),ce=s(L+"{1,4}"),Ie=s(s(ce+"\\:"+ce)+"|"+De),Fe=s(s(ce+"\\:")+"{6}"+Ie),je=s("\\:\\:"+s(ce+"\\:")+"{5}"+Ie),Kt=s(s(ce)+"?\\:\\:"+s(ce+"\\:")+"{4}"+Ie),St=s(s(s(ce+"\\:")+"{0,1}"+ce)+"?\\:\\:"+s(ce+"\\:")+"{3}"+Ie),Pt=s(s(s(ce+"\\:")+"{0,2}"+ce)+"?\\:\\:"+s(ce+"\\:")+"{2}"+Ie),vr=s(s(s(ce+"\\:")+"{0,3}"+ce)+"?\\:\\:"+ce+"\\:"+Ie),Qt=s(s(s(ce+"\\:")+"{0,4}"+ce)+"?\\:\\:"+Ie),ot=s(s(s(ce+"\\:")+"{0,5}"+ce)+"?\\:\\:"+ce),Ot=s(s(s(ce+"\\:")+"{0,6}"+ce)+"?\\:\\:"),er=s([Fe,je,Kt,St,Pt,vr,Qt,ot,Ot].join("|")),At=s(s(me+"|"+F)+"+");s("[vV]"+L+"+\\."+n(me,ne,"[\\:]")+"+"),s(s(F+"|"+n(me,ne))+"*");var Vr=s(F+"|"+n(me,ne,"[\\:\\@]"));return s(s(F+"|"+n(me,ne,"[\\@]"))+"+"),s(s(Vr+"|"+n("[\\/\\?]",ke))+"*"),{NOT_SCHEME:new RegExp(n("[^]",m,O,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",me,ne),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",me,ne),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",me,ne),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",me,ne),"g"),NOT_QUERY:new RegExp(n("[^\\%]",me,ne,"[\\:\\@\\/\\?]",ke),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",me,ne,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",me,ne),"g"),UNRESERVED:new RegExp(me,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",me,ge),"g"),PCT_ENCODED:new RegExp(F,"g"),IPV4ADDRESS:new RegExp("^("+De+")$"),IPV6ADDRESS:new RegExp("^\\[?("+er+")"+s(s("\\%25|\\%(?!"+L+"{2})")+"("+At+")")+"?\\]?$")}}var c=f(!1),d=f(!0),_=function(){function E(m,O){var L=[],F=!0,te=!1,ne=void 0;try{for(var ge=m[Symbol.iterator](),Ne;!(F=(Ne=ge.next()).done)&&(L.push(Ne.value),!(O&&L.length===O));F=!0);}catch(ke){te=!0,ne=ke}finally{try{!F&&ge.return&&ge.return()}finally{if(te)throw ne}}return L}return function(m,O){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return E(m,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(E){if(Array.isArray(E)){for(var m=0,O=Array(E.length);m<E.length;m++)O[m]=E[m];return O}else return Array.from(E)},$=2147483647,w=36,v=1,g=26,C=38,y=700,R=72,U=128,T="-",I=/^xn--/,M=/[^\0-\x7E]/,W=/[\x2E\u3002\uFF0E\uFF61]/g,Z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ie=w-v,re=Math.floor,fe=String.fromCharCode;function de(E){throw new RangeError(Z[E])}function Xe(E,m){for(var O=[],L=E.length;L--;)O[L]=m(E[L]);return O}function Oe(E,m){var O=E.split("@"),L="";O.length>1&&(L=O[0]+"@",E=O[1]),E=E.replace(W,".");var F=E.split("."),te=Xe(F,m).join(".");return L+te}function we(E){for(var m=[],O=0,L=E.length;O<L;){var F=E.charCodeAt(O++);if(F>=55296&&F<=56319&&O<L){var te=E.charCodeAt(O++);(te&64512)==56320?m.push(((F&1023)<<10)+(te&1023)+65536):(m.push(F),O--)}else m.push(F)}return m}var ye=function(m){return String.fromCodePoint.apply(String,b(m))},Ke=function(m){return m-48<10?m-22:m-65<26?m-65:m-97<26?m-97:w},B=function(m,O){return m+22+75*(m<26)-((O!=0)<<5)},A=function(m,O,L){var F=0;for(m=L?re(m/y):m>>1,m+=re(m/O);m>ie*g>>1;F+=w)m=re(m/ie);return re(F+(ie+1)*m/(m+C))},H=function(m){var O=[],L=m.length,F=0,te=U,ne=R,ge=m.lastIndexOf(T);ge<0&&(ge=0);for(var Ne=0;Ne<ge;++Ne)m.charCodeAt(Ne)>=128&&de("not-basic"),O.push(m.charCodeAt(Ne));for(var ke=ge>0?ge+1:0;ke<L;){for(var me=F,Ce=1,De=w;;De+=w){ke>=L&&de("invalid-input");var ce=Ke(m.charCodeAt(ke++));(ce>=w||ce>re(($-F)/Ce))&&de("overflow"),F+=ce*Ce;var Ie=De<=ne?v:De>=ne+g?g:De-ne;if(ce<Ie)break;var Fe=w-Ie;Ce>re($/Fe)&&de("overflow"),Ce*=Fe}var je=O.length+1;ne=A(F-me,je,me==0),re(F/je)>$-te&&de("overflow"),te+=re(F/je),F%=je,O.splice(F++,0,te)}return String.fromCodePoint.apply(String,O)},D=function(m){var O=[];m=we(m);var L=m.length,F=U,te=0,ne=R,ge=!0,Ne=!1,ke=void 0;try{for(var me=m[Symbol.iterator](),Ce;!(ge=(Ce=me.next()).done);ge=!0){var De=Ce.value;De<128&&O.push(fe(De))}}catch(Ur){Ne=!0,ke=Ur}finally{try{!ge&&me.return&&me.return()}finally{if(Ne)throw ke}}var ce=O.length,Ie=ce;for(ce&&O.push(T);Ie<L;){var Fe=$,je=!0,Kt=!1,St=void 0;try{for(var Pt=m[Symbol.iterator](),vr;!(je=(vr=Pt.next()).done);je=!0){var Qt=vr.value;Qt>=F&&Qt<Fe&&(Fe=Qt)}}catch(Ur){Kt=!0,St=Ur}finally{try{!je&&Pt.return&&Pt.return()}finally{if(Kt)throw St}}var ot=Ie+1;Fe-F>re(($-te)/ot)&&de("overflow"),te+=(Fe-F)*ot,F=Fe;var Ot=!0,er=!1,At=void 0;try{for(var Vr=m[Symbol.iterator](),mo;!(Ot=(mo=Vr.next()).done);Ot=!0){var yo=mo.value;if(yo<F&&++te>$&&de("overflow"),yo==F){for(var hn=te,pn=w;;pn+=w){var mn=pn<=ne?v:pn>=ne+g?g:pn-ne;if(hn<mn)break;var go=hn-mn,vo=w-mn;O.push(fe(B(mn+go%vo,0))),hn=re(go/vo)}O.push(fe(B(hn,0))),ne=A(te,ot,Ie==ce),te=0,++Ie}}}catch(Ur){er=!0,At=Ur}finally{try{!Ot&&Vr.return&&Vr.return()}finally{if(er)throw At}}++te,++F}return O.join("")},h=function(m){return Oe(m,function(O){return I.test(O)?H(O.slice(4).toLowerCase()):O})},S=function(m){return Oe(m,function(O){return M.test(O)?"xn--"+D(O):O})},V={version:"2.1.0",ucs2:{decode:we,encode:ye},decode:H,encode:D,toASCII:S,toUnicode:h},J={};function X(E){var m=E.charCodeAt(0),O=void 0;return m<16?O="%0"+m.toString(16).toUpperCase():m<128?O="%"+m.toString(16).toUpperCase():m<2048?O="%"+(m>>6|192).toString(16).toUpperCase()+"%"+(m&63|128).toString(16).toUpperCase():O="%"+(m>>12|224).toString(16).toUpperCase()+"%"+(m>>6&63|128).toString(16).toUpperCase()+"%"+(m&63|128).toString(16).toUpperCase(),O}function ae(E){for(var m="",O=0,L=E.length;O<L;){var F=parseInt(E.substr(O+1,2),16);if(F<128)m+=String.fromCharCode(F),O+=3;else if(F>=194&&F<224){if(L-O>=6){var te=parseInt(E.substr(O+4,2),16);m+=String.fromCharCode((F&31)<<6|te&63)}else m+=E.substr(O,6);O+=6}else if(F>=224){if(L-O>=9){var ne=parseInt(E.substr(O+4,2),16),ge=parseInt(E.substr(O+7,2),16);m+=String.fromCharCode((F&15)<<12|(ne&63)<<6|ge&63)}else m+=E.substr(O,9);O+=9}else m+=E.substr(O,3),O+=3}return m}function ue(E,m){function O(L){var F=ae(L);return F.match(m.UNRESERVED)?F:L}return E.scheme&&(E.scheme=String(E.scheme).replace(m.PCT_ENCODED,O).toLowerCase().replace(m.NOT_SCHEME,"")),E.userinfo!==void 0&&(E.userinfo=String(E.userinfo).replace(m.PCT_ENCODED,O).replace(m.NOT_USERINFO,X).replace(m.PCT_ENCODED,o)),E.host!==void 0&&(E.host=String(E.host).replace(m.PCT_ENCODED,O).toLowerCase().replace(m.NOT_HOST,X).replace(m.PCT_ENCODED,o)),E.path!==void 0&&(E.path=String(E.path).replace(m.PCT_ENCODED,O).replace(E.scheme?m.NOT_PATH:m.NOT_PATH_NOSCHEME,X).replace(m.PCT_ENCODED,o)),E.query!==void 0&&(E.query=String(E.query).replace(m.PCT_ENCODED,O).replace(m.NOT_QUERY,X).replace(m.PCT_ENCODED,o)),E.fragment!==void 0&&(E.fragment=String(E.fragment).replace(m.PCT_ENCODED,O).replace(m.NOT_FRAGMENT,X).replace(m.PCT_ENCODED,o)),E}function N(E){return E.replace(/^0*(.*)/,"$1")||"0"}function u(E,m){var O=E.match(m.IPV4ADDRESS)||[],L=_(O,2),F=L[1];return F?F.split(".").map(N).join("."):E}function p(E,m){var O=E.match(m.IPV6ADDRESS)||[],L=_(O,3),F=L[1],te=L[2];if(F){for(var ne=F.toLowerCase().split("::").reverse(),ge=_(ne,2),Ne=ge[0],ke=ge[1],me=ke?ke.split(":").map(N):[],Ce=Ne.split(":").map(N),De=m.IPV4ADDRESS.test(Ce[Ce.length-1]),ce=De?7:8,Ie=Ce.length-ce,Fe=Array(ce),je=0;je<ce;++je)Fe[je]=me[je]||Ce[Ie+je]||"";De&&(Fe[ce-1]=u(Fe[ce-1],m));var Kt=Fe.reduce(function(ot,Ot,er){if(!Ot||Ot==="0"){var At=ot[ot.length-1];At&&At.index+At.length===er?At.length++:ot.push({index:er,length:1})}return ot},[]),St=Kt.sort(function(ot,Ot){return Ot.length-ot.length})[0],Pt=void 0;if(St&&St.length>1){var vr=Fe.slice(0,St.index),Qt=Fe.slice(St.index+St.length);Pt=vr.join(":")+"::"+Qt.join(":")}else Pt=Fe.join(":");return te&&(Pt+="%"+te),Pt}else return E}var P=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,j="".match(/(){0}/)[1]===void 0;function k(E){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O={},L=m.iri!==!1?d:c;m.reference==="suffix"&&(E=(m.scheme?m.scheme+":":"")+"//"+E);var F=E.match(P);if(F){j?(O.scheme=F[1],O.userinfo=F[3],O.host=F[4],O.port=parseInt(F[5],10),O.path=F[6]||"",O.query=F[7],O.fragment=F[8],isNaN(O.port)&&(O.port=F[5])):(O.scheme=F[1]||void 0,O.userinfo=E.indexOf("@")!==-1?F[3]:void 0,O.host=E.indexOf("//")!==-1?F[4]:void 0,O.port=parseInt(F[5],10),O.path=F[6]||"",O.query=E.indexOf("?")!==-1?F[7]:void 0,O.fragment=E.indexOf("#")!==-1?F[8]:void 0,isNaN(O.port)&&(O.port=E.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?F[4]:void 0)),O.host&&(O.host=p(u(O.host,L),L)),O.scheme===void 0&&O.userinfo===void 0&&O.host===void 0&&O.port===void 0&&!O.path&&O.query===void 0?O.reference="same-document":O.scheme===void 0?O.reference="relative":O.fragment===void 0?O.reference="absolute":O.reference="uri",m.reference&&m.reference!=="suffix"&&m.reference!==O.reference&&(O.error=O.error||"URI is not a "+m.reference+" reference.");var te=J[(m.scheme||O.scheme||"").toLowerCase()];if(!m.unicodeSupport&&(!te||!te.unicodeSupport)){if(O.host&&(m.domainHost||te&&te.domainHost))try{O.host=V.toASCII(O.host.replace(L.PCT_ENCODED,ae).toLowerCase())}catch(ne){O.error=O.error||"Host's domain name can not be converted to ASCII via punycode: "+ne}ue(O,c)}else ue(O,L);te&&te.parse&&te.parse(O,m)}else O.error=O.error||"URI can not be parsed.";return O}function K(E,m){var O=m.iri!==!1?d:c,L=[];return E.userinfo!==void 0&&(L.push(E.userinfo),L.push("@")),E.host!==void 0&&L.push(p(u(String(E.host),O),O).replace(O.IPV6ADDRESS,function(F,te,ne){return"["+te+(ne?"%25"+ne:"")+"]"})),(typeof E.port=="number"||typeof E.port=="string")&&(L.push(":"),L.push(String(E.port))),L.length?L.join(""):void 0}var Y=/^\.\.?\//,x=/^\/\.(\/|$)/,z=/^\/\.\.(\/|$)/,q=/^\/?(?:.|\n)*?(?=\/|$)/;function Q(E){for(var m=[];E.length;)if(E.match(Y))E=E.replace(Y,"");else if(E.match(x))E=E.replace(x,"/");else if(E.match(z))E=E.replace(z,"/"),m.pop();else if(E==="."||E==="..")E="";else{var O=E.match(q);if(O){var L=O[0];E=E.slice(L.length),m.push(L)}else throw new Error("Unexpected dot segment condition")}return m.join("")}function G(E){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=m.iri?d:c,L=[],F=J[(m.scheme||E.scheme||"").toLowerCase()];if(F&&F.serialize&&F.serialize(E,m),E.host&&!O.IPV6ADDRESS.test(E.host)){if(m.domainHost||F&&F.domainHost)try{E.host=m.iri?V.toUnicode(E.host):V.toASCII(E.host.replace(O.PCT_ENCODED,ae).toLowerCase())}catch(ge){E.error=E.error||"Host's domain name can not be converted to "+(m.iri?"Unicode":"ASCII")+" via punycode: "+ge}}ue(E,O),m.reference!=="suffix"&&E.scheme&&(L.push(E.scheme),L.push(":"));var te=K(E,m);if(te!==void 0&&(m.reference!=="suffix"&&L.push("//"),L.push(te),E.path&&E.path.charAt(0)!=="/"&&L.push("/")),E.path!==void 0){var ne=E.path;!m.absolutePath&&(!F||!F.absolutePath)&&(ne=Q(ne)),te===void 0&&(ne=ne.replace(/^\/\//,"/%2F")),L.push(ne)}return E.query!==void 0&&(L.push("?"),L.push(E.query)),E.fragment!==void 0&&(L.push("#"),L.push(E.fragment)),L.join("")}function ee(E,m){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},L=arguments[3],F={};return L||(E=k(G(E,O),O),m=k(G(m,O),O)),O=O||{},!O.tolerant&&m.scheme?(F.scheme=m.scheme,F.userinfo=m.userinfo,F.host=m.host,F.port=m.port,F.path=Q(m.path||""),F.query=m.query):(m.userinfo!==void 0||m.host!==void 0||m.port!==void 0?(F.userinfo=m.userinfo,F.host=m.host,F.port=m.port,F.path=Q(m.path||""),F.query=m.query):(m.path?(m.path.charAt(0)==="/"?F.path=Q(m.path):((E.userinfo!==void 0||E.host!==void 0||E.port!==void 0)&&!E.path?F.path="/"+m.path:E.path?F.path=E.path.slice(0,E.path.lastIndexOf("/")+1)+m.path:F.path=m.path,F.path=Q(F.path)),F.query=m.query):(F.path=E.path,m.query!==void 0?F.query=m.query:F.query=E.query),F.userinfo=E.userinfo,F.host=E.host,F.port=E.port),F.scheme=E.scheme),F.fragment=m.fragment,F}function se(E,m,O){var L=l({scheme:"null"},O);return G(ee(k(E,L),k(m,L),L,!0),L)}function le(E,m){return typeof E=="string"?E=G(k(E,m),m):i(E)==="object"&&(E=k(G(E,m),m)),E}function Ee(E,m,O){return typeof E=="string"?E=G(k(E,O),O):i(E)==="object"&&(E=G(E,O)),typeof m=="string"?m=G(k(m,O),O):i(m)==="object"&&(m=G(m,O)),E===m}function ve(E,m){return E&&E.toString().replace(!m||!m.iri?c.ESCAPE:d.ESCAPE,X)}function _e(E,m){return E&&E.toString().replace(!m||!m.iri?c.PCT_ENCODED:d.PCT_ENCODED,ae)}var Ve={scheme:"http",domainHost:!0,parse:function(m,O){return m.host||(m.error=m.error||"HTTP URIs must have a host."),m},serialize:function(m,O){var L=String(m.scheme).toLowerCase()==="https";return(m.port===(L?443:80)||m.port==="")&&(m.port=void 0),m.path||(m.path="/"),m}},Rt={scheme:"https",domainHost:Ve.domainHost,parse:Ve.parse,serialize:Ve.serialize};function Fr(E){return typeof E.secure=="boolean"?E.secure:String(E.scheme).toLowerCase()==="wss"}var dt={scheme:"ws",domainHost:!0,parse:function(m,O){var L=m;return L.secure=Fr(L),L.resourceName=(L.path||"/")+(L.query?"?"+L.query:""),L.path=void 0,L.query=void 0,L},serialize:function(m,O){if((m.port===(Fr(m)?443:80)||m.port==="")&&(m.port=void 0),typeof m.secure=="boolean"&&(m.scheme=m.secure?"wss":"ws",m.secure=void 0),m.resourceName){var L=m.resourceName.split("?"),F=_(L,2),te=F[0],ne=F[1];m.path=te&&te!=="/"?te:void 0,m.query=ne,m.resourceName=void 0}return m.fragment=void 0,m}},Lr={scheme:"wss",domainHost:dt.domainHost,parse:dt.parse,serialize:dt.serialize},Ye={},nt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",st="[0-9A-Fa-f]",hc=s(s("%[EFef]"+st+"%"+st+st+"%"+st+st)+"|"+s("%[89A-Fa-f]"+st+"%"+st+st)+"|"+s("%"+st+st)),pc="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",mc="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",yc=n(mc,'[\\"\\\\]'),gc="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",vc=new RegExp(nt,"g"),gr=new RegExp(hc,"g"),_c=new RegExp(n("[^]",pc,"[\\.]",'[\\"]',yc),"g"),uo=new RegExp(n("[^]",nt,gc),"g"),$c=uo;function ps(E){var m=ae(E);return m.match(vc)?m:E}var fo={scheme:"mailto",parse:function(m,O){var L=m,F=L.to=L.path?L.path.split(","):[];if(L.path=void 0,L.query){for(var te=!1,ne={},ge=L.query.split("&"),Ne=0,ke=ge.length;Ne<ke;++Ne){var me=ge[Ne].split("=");switch(me[0]){case"to":for(var Ce=me[1].split(","),De=0,ce=Ce.length;De<ce;++De)F.push(Ce[De]);break;case"subject":L.subject=_e(me[1],O);break;case"body":L.body=_e(me[1],O);break;default:te=!0,ne[_e(me[0],O)]=_e(me[1],O);break}}te&&(L.headers=ne)}L.query=void 0;for(var Ie=0,Fe=F.length;Ie<Fe;++Ie){var je=F[Ie].split("@");if(je[0]=_e(je[0]),O.unicodeSupport)je[1]=_e(je[1],O).toLowerCase();else try{je[1]=V.toASCII(_e(je[1],O).toLowerCase())}catch(Kt){L.error=L.error||"Email address's domain name can not be converted to ASCII via punycode: "+Kt}F[Ie]=je.join("@")}return L},serialize:function(m,O){var L=m,F=a(m.to);if(F){for(var te=0,ne=F.length;te<ne;++te){var ge=String(F[te]),Ne=ge.lastIndexOf("@"),ke=ge.slice(0,Ne).replace(gr,ps).replace(gr,o).replace(_c,X),me=ge.slice(Ne+1);try{me=O.iri?V.toUnicode(me):V.toASCII(_e(me,O).toLowerCase())}catch(Ie){L.error=L.error||"Email address's domain name can not be converted to "+(O.iri?"Unicode":"ASCII")+" via punycode: "+Ie}F[te]=ke+"@"+me}L.path=F.join(",")}var Ce=m.headers=m.headers||{};m.subject&&(Ce.subject=m.subject),m.body&&(Ce.body=m.body);var De=[];for(var ce in Ce)Ce[ce]!==Ye[ce]&&De.push(ce.replace(gr,ps).replace(gr,o).replace(uo,X)+"="+Ce[ce].replace(gr,ps).replace(gr,o).replace($c,X));return De.length&&(L.query=De.join("&")),L}},bc=/^([^\:]+)\:(.*)/,ho={scheme:"urn",parse:function(m,O){var L=m.path&&m.path.match(bc),F=m;if(L){var te=O.scheme||F.scheme||"urn",ne=L[1].toLowerCase(),ge=L[2],Ne=te+":"+(O.nid||ne),ke=J[Ne];F.nid=ne,F.nss=ge,F.path=void 0,ke&&(F=ke.parse(F,O))}else F.error=F.error||"URN can not be parsed.";return F},serialize:function(m,O){var L=O.scheme||m.scheme||"urn",F=m.nid,te=L+":"+(O.nid||F),ne=J[te];ne&&(m=ne.serialize(m,O));var ge=m,Ne=m.nss;return ge.path=(F||O.nid)+":"+Ne,ge}},wc=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,po={scheme:"urn:uuid",parse:function(m,O){var L=m;return L.uuid=L.nss,L.nss=void 0,!O.tolerant&&(!L.uuid||!L.uuid.match(wc))&&(L.error=L.error||"UUID is not valid."),L},serialize:function(m,O){var L=m;return L.nss=(m.uuid||"").toLowerCase(),L}};J[Ve.scheme]=Ve,J[Rt.scheme]=Rt,J[dt.scheme]=dt,J[Lr.scheme]=Lr,J[fo.scheme]=fo,J[ho.scheme]=ho,J[po.scheme]=po,r.SCHEMES=J,r.pctEncChar=X,r.pctDecChars=ae,r.parse=k,r.removeDotSegments=Q,r.serialize=G,r.resolveComponents=ee,r.resolve=se,r.normalize=le,r.equal=Ee,r.escapeComponent=ve,r.unescapeComponent=_e,Object.defineProperty(r,"__esModule",{value:!0})})})(Gs,Gs.exports);var eh=Gs.exports;Object.defineProperty(Ei,"__esModule",{value:!0});const xl=eh;xl.code='require("ajv/dist/runtime/uri").default';Ei.default=xl;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=us();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=pe();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=$i(),s=bi(),i=mr,o=tt,a=pe(),l=He,f=cn,c=be,d=Qd,_=Ei,b=(B,A)=>new RegExp(B,A);b.code="new RegExp";const $=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},C=200;function y(B){var A,H,D,h,S,V,J,X,ae,ue,N,u,p,P,j,k,K,Y,x,z,q,Q,G,ee,se;const le=B.strict,Ee=(A=B.code)===null||A===void 0?void 0:A.optimize,ve=Ee===!0||Ee===void 0?1:Ee||0,_e=(D=(H=B.code)===null||H===void 0?void 0:H.regExp)!==null&&D!==void 0?D:b,Ve=(h=B.uriResolver)!==null&&h!==void 0?h:_.default;return{strictSchema:(V=(S=B.strictSchema)!==null&&S!==void 0?S:le)!==null&&V!==void 0?V:!0,strictNumbers:(X=(J=B.strictNumbers)!==null&&J!==void 0?J:le)!==null&&X!==void 0?X:!0,strictTypes:(ue=(ae=B.strictTypes)!==null&&ae!==void 0?ae:le)!==null&&ue!==void 0?ue:"log",strictTuples:(u=(N=B.strictTuples)!==null&&N!==void 0?N:le)!==null&&u!==void 0?u:"log",strictRequired:(P=(p=B.strictRequired)!==null&&p!==void 0?p:le)!==null&&P!==void 0?P:!1,code:B.code?{...B.code,optimize:ve,regExp:_e}:{optimize:ve,regExp:_e},loopRequired:(j=B.loopRequired)!==null&&j!==void 0?j:C,loopEnum:(k=B.loopEnum)!==null&&k!==void 0?k:C,meta:(K=B.meta)!==null&&K!==void 0?K:!0,messages:(Y=B.messages)!==null&&Y!==void 0?Y:!0,inlineRefs:(x=B.inlineRefs)!==null&&x!==void 0?x:!0,schemaId:(z=B.schemaId)!==null&&z!==void 0?z:"$id",addUsedSchema:(q=B.addUsedSchema)!==null&&q!==void 0?q:!0,validateSchema:(Q=B.validateSchema)!==null&&Q!==void 0?Q:!0,validateFormats:(G=B.validateFormats)!==null&&G!==void 0?G:!0,unicodeRegExp:(ee=B.unicodeRegExp)!==null&&ee!==void 0?ee:!0,int32range:(se=B.int32range)!==null&&se!==void 0?se:!0,uriResolver:Ve}}class R{constructor(A={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,A=this.opts={...A,...y(A)};const{es5:H,lines:D}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:w,es5:H,lines:D}),this.logger=re(A.logger);const h=A.validateFormats;A.validateFormats=!1,this.RULES=(0,i.getRules)(),U.call(this,v,A,"NOT SUPPORTED"),U.call(this,g,A,"DEPRECATED","warn"),this._metaOpts=Z.call(this),A.formats&&M.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),A.keywords&&W.call(this,A.keywords),typeof A.meta=="object"&&this.addMetaSchema(A.meta),I.call(this),A.validateFormats=h}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:A,meta:H,schemaId:D}=this.opts;let h=d;D==="id"&&(h={...d},h.id=h.$id,delete h.$id),H&&A&&this.addMetaSchema(h,h[D],!1)}defaultMeta(){const{meta:A,schemaId:H}=this.opts;return this.opts.defaultMeta=typeof A=="object"?A[H]||A:void 0}validate(A,H){let D;if(typeof A=="string"){if(D=this.getSchema(A),!D)throw new Error(`no schema with key or ref "${A}"`)}else D=this.compile(A);const h=D(H);return"$async"in D||(this.errors=D.errors),h}compile(A,H){const D=this._addSchema(A,H);return D.validate||this._compileSchemaEnv(D)}compileAsync(A,H){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:D}=this.opts;return h.call(this,A,H);async function h(ue,N){await S.call(this,ue.$schema);const u=this._addSchema(ue,N);return u.validate||V.call(this,u)}async function S(ue){ue&&!this.getSchema(ue)&&await h.call(this,{$ref:ue},!0)}async function V(ue){try{return this._compileSchemaEnv(ue)}catch(N){if(!(N instanceof s.default))throw N;return J.call(this,N),await X.call(this,N.missingSchema),V.call(this,ue)}}function J({missingSchema:ue,missingRef:N}){if(this.refs[ue])throw new Error(`AnySchema ${ue} is loaded but ${N} cannot be resolved`)}async function X(ue){const N=await ae.call(this,ue);this.refs[ue]||await S.call(this,N.$schema),this.refs[ue]||this.addSchema(N,ue,H)}async function ae(ue){const N=this._loading[ue];if(N)return N;try{return await(this._loading[ue]=D(ue))}finally{delete this._loading[ue]}}}addSchema(A,H,D,h=this.opts.validateSchema){if(Array.isArray(A)){for(const V of A)this.addSchema(V,void 0,D,h);return this}let S;if(typeof A=="object"){const{schemaId:V}=this.opts;if(S=A[V],S!==void 0&&typeof S!="string")throw new Error(`schema ${V} must be string`)}return H=(0,l.normalizeId)(H||S),this._checkUnique(H),this.schemas[H]=this._addSchema(A,D,H,h,!0),this}addMetaSchema(A,H,D=this.opts.validateSchema){return this.addSchema(A,H,!0,D),this}validateSchema(A,H){if(typeof A=="boolean")return!0;let D;if(D=A.$schema,D!==void 0&&typeof D!="string")throw new Error("$schema must be a string");if(D=D||this.opts.defaultMeta||this.defaultMeta(),!D)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const h=this.validate(D,A);if(!h&&H){const S="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(S);else throw new Error(S)}return h}getSchema(A){let H;for(;typeof(H=T.call(this,A))=="string";)A=H;if(H===void 0){const{schemaId:D}=this.opts,h=new o.SchemaEnv({schema:{},schemaId:D});if(H=o.resolveSchema.call(this,h,A),!H)return;this.refs[A]=H}return H.validate||this._compileSchemaEnv(H)}removeSchema(A){if(A instanceof RegExp)return this._removeAllSchemas(this.schemas,A),this._removeAllSchemas(this.refs,A),this;switch(typeof A){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const H=T.call(this,A);return typeof H=="object"&&this._cache.delete(H.schema),delete this.schemas[A],delete this.refs[A],this}case"object":{const H=A;this._cache.delete(H);let D=A[this.opts.schemaId];return D&&(D=(0,l.normalizeId)(D),delete this.schemas[D],delete this.refs[D]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(A){for(const H of A)this.addKeyword(H);return this}addKeyword(A,H){let D;if(typeof A=="string")D=A,typeof H=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),H.keyword=D);else if(typeof A=="object"&&H===void 0){if(H=A,D=H.keyword,Array.isArray(D)&&!D.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(de.call(this,D,H),!H)return(0,c.eachItem)(D,S=>Xe.call(this,S)),this;we.call(this,H);const h={...H,type:(0,f.getJSONTypes)(H.type),schemaType:(0,f.getJSONTypes)(H.schemaType)};return(0,c.eachItem)(D,h.type.length===0?S=>Xe.call(this,S,h):S=>h.type.forEach(V=>Xe.call(this,S,h,V))),this}getKeyword(A){const H=this.RULES.all[A];return typeof H=="object"?H.definition:!!H}removeKeyword(A){const{RULES:H}=this;delete H.keywords[A],delete H.all[A];for(const D of H.rules){const h=D.rules.findIndex(S=>S.keyword===A);h>=0&&D.rules.splice(h,1)}return this}addFormat(A,H){return typeof H=="string"&&(H=new RegExp(H)),this.formats[A]=H,this}errorsText(A=this.errors,{separator:H=", ",dataVar:D="data"}={}){return!A||A.length===0?"No errors":A.map(h=>`${D}${h.instancePath} ${h.message}`).reduce((h,S)=>h+H+S)}$dataMetaSchema(A,H){const D=this.RULES.all;A=JSON.parse(JSON.stringify(A));for(const h of H){const S=h.split("/").slice(1);let V=A;for(const J of S)V=V[J];for(const J in D){const X=D[J];if(typeof X!="object")continue;const{$data:ae}=X.definition,ue=V[J];ae&&ue&&(V[J]=Ke(ue))}}return A}_removeAllSchemas(A,H){for(const D in A){const h=A[D];(!H||H.test(D))&&(typeof h=="string"?delete A[D]:h&&!h.meta&&(this._cache.delete(h.schema),delete A[D]))}}_addSchema(A,H,D,h=this.opts.validateSchema,S=this.opts.addUsedSchema){let V;const{schemaId:J}=this.opts;if(typeof A=="object")V=A[J];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof A!="boolean")throw new Error("schema must be object or boolean")}let X=this._cache.get(A);if(X!==void 0)return X;D=(0,l.normalizeId)(V||D);const ae=l.getSchemaRefs.call(this,A,D);return X=new o.SchemaEnv({schema:A,schemaId:J,meta:H,baseId:D,localRefs:ae}),this._cache.set(X.schema,X),S&&!D.startsWith("#")&&(D&&this._checkUnique(D),this.refs[D]=X),h&&this.validateSchema(A,!0),X}_checkUnique(A){if(this.schemas[A]||this.refs[A])throw new Error(`schema with key or id "${A}" already exists`)}_compileSchemaEnv(A){if(A.meta?this._compileMetaSchema(A):o.compileSchema.call(this,A),!A.validate)throw new Error("ajv implementation error");return A.validate}_compileMetaSchema(A){const H=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,A)}finally{this.opts=H}}}e.default=R,R.ValidationError=n.default,R.MissingRefError=s.default;function U(B,A,H,D="error"){for(const h in B){const S=h;S in A&&this.logger[D](`${H}: option ${h}. ${B[S]}`)}}function T(B){return B=(0,l.normalizeId)(B),this.schemas[B]||this.refs[B]}function I(){const B=this.opts.schemas;if(B)if(Array.isArray(B))this.addSchema(B);else for(const A in B)this.addSchema(B[A],A)}function M(){for(const B in this.opts.formats){const A=this.opts.formats[B];A&&this.addFormat(B,A)}}function W(B){if(Array.isArray(B)){this.addVocabulary(B);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const A in B){const H=B[A];H.keyword||(H.keyword=A),this.addKeyword(H)}}function Z(){const B={...this.opts};for(const A of $)delete B[A];return B}const ie={log(){},warn(){},error(){}};function re(B){if(B===!1)return ie;if(B===void 0)return console;if(B.log&&B.warn&&B.error)return B;throw new Error("logger must implement log, warn and error methods")}const fe=/^[a-z_$][a-z0-9_$:-]*$/i;function de(B,A){const{RULES:H}=this;if((0,c.eachItem)(B,D=>{if(H.keywords[D])throw new Error(`Keyword ${D} is already defined`);if(!fe.test(D))throw new Error(`Keyword ${D} has invalid name`)}),!!A&&A.$data&&!("code"in A||"validate"in A))throw new Error('$data keyword must have "code" or "validate" function')}function Xe(B,A,H){var D;const h=A==null?void 0:A.post;if(H&&h)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:S}=this;let V=h?S.post:S.rules.find(({type:X})=>X===H);if(V||(V={type:H,rules:[]},S.rules.push(V)),S.keywords[B]=!0,!A)return;const J={keyword:B,definition:{...A,type:(0,f.getJSONTypes)(A.type),schemaType:(0,f.getJSONTypes)(A.schemaType)}};A.before?Oe.call(this,V,J,A.before):V.rules.push(J),S.all[B]=J,(D=A.implements)===null||D===void 0||D.forEach(X=>this.addKeyword(X))}function Oe(B,A,H){const D=B.rules.findIndex(h=>h.keyword===H);D>=0?B.rules.splice(D,0,A):(B.rules.push(A),this.logger.warn(`rule ${H} is not defined`))}function we(B){let{metaSchema:A}=B;A!==void 0&&(B.$data&&this.opts.$data&&(A=Ke(A)),B.validateSchema=this.compile(A,!0))}const ye={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ke(B){return{anyOf:[B,ye]}}})(Ml);var Si={},Pi={},Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});const th={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Oi.default=th;var yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.callRef=yr.getValidate=void 0;const rh=bi(),ha=Et(),et=pe(),_r=Xt(),pa=tt,Pn=be,nh={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:i,validateName:o,opts:a,self:l}=n,{root:f}=i;if((r==="#"||r==="#/")&&s===f.baseId)return d();const c=pa.resolveRef.call(l,f,s,r);if(c===void 0)throw new rh.default(n.opts.uriResolver,s,r);if(c instanceof pa.SchemaEnv)return _(c);return b(c);function d(){if(i===f)return Fn(e,o,i,i.$async);const $=t.scopeValue("root",{ref:f});return Fn(e,(0,et._)`${$}.validate`,f,f.$async)}function _($){const w=zl(e,$);Fn(e,w,$,$.$async)}function b($){const w=t.scopeValue("schema",a.code.source===!0?{ref:$,code:(0,et.stringify)($)}:{ref:$}),v=t.name("valid"),g=e.subschema({schema:$,dataTypes:[],schemaPath:et.nil,topSchemaRef:w,errSchemaPath:r},v);e.mergeEvaluated(g),e.ok(v)}}};function zl(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,et._)`${r.scopeValue("wrapper",{ref:t})}.validate`}yr.getValidate=zl;function Fn(e,t,r,n){const{gen:s,it:i}=e,{allErrors:o,schemaEnv:a,opts:l}=i,f=l.passContext?_r.default.this:et.nil;n?c():d();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const $=s.let("valid");s.try(()=>{s.code((0,et._)`await ${(0,ha.callValidateCode)(e,t,f)}`),b(t),o||s.assign($,!0)},w=>{s.if((0,et._)`!(${w} instanceof ${i.ValidationError})`,()=>s.throw(w)),_(w),o||s.assign($,!1)}),e.ok($)}function d(){e.result((0,ha.callValidateCode)(e,t,f),()=>b(t),()=>_(t))}function _($){const w=(0,et._)`${$}.errors`;s.assign(_r.default.vErrors,(0,et._)`${_r.default.vErrors} === null ? ${w} : ${_r.default.vErrors}.concat(${w})`),s.assign(_r.default.errors,(0,et._)`${_r.default.vErrors}.length`)}function b($){var w;if(!i.opts.unevaluated)return;const v=(w=r==null?void 0:r.validate)===null||w===void 0?void 0:w.evaluated;if(i.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(i.props=Pn.mergeEvaluated.props(s,v.props,i.props));else{const g=s.var("props",(0,et._)`${$}.evaluated.props`);i.props=Pn.mergeEvaluated.props(s,g,i.props,et.Name)}if(i.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(i.items=Pn.mergeEvaluated.items(s,v.items,i.items));else{const g=s.var("items",(0,et._)`${$}.evaluated.items`);i.items=Pn.mergeEvaluated.items(s,g,i.items,et.Name)}}}yr.callRef=Fn;yr.default=nh;Object.defineProperty(Pi,"__esModule",{value:!0});const sh=Oi,ih=yr,oh=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",sh.default,ih.default];Pi.default=oh;var Ci={},Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});const zn=pe(),zt=zn.operators,Bn={maximum:{okStr:"<=",ok:zt.LTE,fail:zt.GT},minimum:{okStr:">=",ok:zt.GTE,fail:zt.LT},exclusiveMaximum:{okStr:"<",ok:zt.LT,fail:zt.GTE},exclusiveMinimum:{okStr:">",ok:zt.GT,fail:zt.LTE}},ah={message:({keyword:e,schemaCode:t})=>(0,zn.str)`must be ${Bn[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,zn._)`{comparison: ${Bn[e].okStr}, limit: ${t}}`},lh={keyword:Object.keys(Bn),type:"number",schemaType:"number",$data:!0,error:ah,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,zn._)`${r} ${Bn[t].fail} ${n} || isNaN(${r})`)}};Ni.default=lh;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});const Gr=pe(),ch={message:({schemaCode:e})=>(0,Gr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Gr._)`{multipleOf: ${e}}`},uh={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:ch,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,i=s.opts.multipleOfPrecision,o=t.let("res"),a=i?(0,Gr._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${i}`:(0,Gr._)`${o} !== parseInt(${o})`;e.fail$data((0,Gr._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};Ti.default=uh;var Ri={},Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});function Bl(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}Ai.default=Bl;Bl.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Ri,"__esModule",{value:!0});const cr=pe(),fh=be,dh=Ai,hh={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,cr.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,cr._)`{limit: ${e}}`},ph={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:hh,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,i=t==="maxLength"?cr.operators.GT:cr.operators.LT,o=s.opts.unicode===!1?(0,cr._)`${r}.length`:(0,cr._)`${(0,fh.useFunc)(e.gen,dh.default)}(${r})`;e.fail$data((0,cr._)`${o} ${i} ${n}`)}};Ri.default=ph;var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});const mh=Et(),Yn=pe(),yh={message:({schemaCode:e})=>(0,Yn.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Yn._)`{pattern: ${e}}`},gh={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:yh,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:i}=e,o=i.opts.unicodeRegExp?"u":"",a=r?(0,Yn._)`(new RegExp(${s}, ${o}))`:(0,mh.usePattern)(e,n);e.fail$data((0,Yn._)`!${a}.test(${t})`)}};Ii.default=gh;var ji={};Object.defineProperty(ji,"__esModule",{value:!0});const Wr=pe(),vh={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Wr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Wr._)`{limit: ${e}}`},_h={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:vh,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?Wr.operators.GT:Wr.operators.LT;e.fail$data((0,Wr._)`Object.keys(${r}).length ${s} ${n}`)}};ji.default=_h;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});const Hr=Et(),Jr=pe(),$h=be,bh={message:({params:{missingProperty:e}})=>(0,Jr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Jr._)`{missingProperty: ${e}}`},wh={keyword:"required",type:"object",schemaType:"array",$data:!0,error:bh,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:i,it:o}=e,{opts:a}=o;if(!i&&r.length===0)return;const l=r.length>=a.loopRequired;if(o.allErrors?f():c(),a.strictRequired){const b=e.parentSchema.properties,{definedProperties:$}=e.it;for(const w of r)if((b==null?void 0:b[w])===void 0&&!$.has(w)){const v=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${w}" is not defined at "${v}" (strictRequired)`;(0,$h.checkStrictMode)(o,g,o.opts.strictRequired)}}function f(){if(l||i)e.block$data(Jr.nil,d);else for(const b of r)(0,Hr.checkReportMissingProp)(e,b)}function c(){const b=t.let("missing");if(l||i){const $=t.let("valid",!0);e.block$data($,()=>_(b,$)),e.ok($)}else t.if((0,Hr.checkMissingProp)(e,r,b)),(0,Hr.reportMissingProp)(e,b),t.else()}function d(){t.forOf("prop",n,b=>{e.setParams({missingProperty:b}),t.if((0,Hr.noPropertyInData)(t,s,b,a.ownProperties),()=>e.error())})}function _(b,$){e.setParams({missingProperty:b}),t.forOf(b,n,()=>{t.assign($,(0,Hr.propertyInData)(t,s,b,a.ownProperties)),t.if((0,Jr.not)($),()=>{e.error(),t.break()})},Jr.nil)}}};ki.default=wh;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});const Zr=pe(),Eh={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Zr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Zr._)`{limit: ${e}}`},Sh={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Eh,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?Zr.operators.GT:Zr.operators.LT;e.fail$data((0,Zr._)`${r}.length ${s} ${n}`)}};Di.default=Sh;var Mi={},dn={};Object.defineProperty(dn,"__esModule",{value:!0});const Yl=Ll;Yl.code='require("ajv/dist/runtime/equal").default';dn.default=Yl;Object.defineProperty(Mi,"__esModule",{value:!0});const Cs=cn,qe=pe(),Ph=be,Oh=dn,Ch={message:({params:{i:e,j:t}})=>(0,qe.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,qe._)`{i: ${e}, j: ${t}}`},Nh={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Ch,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:i,schemaCode:o,it:a}=e;if(!n&&!s)return;const l=t.let("valid"),f=i.items?(0,Cs.getSchemaTypes)(i.items):[];e.block$data(l,c,(0,qe._)`${o} === false`),e.ok(l);function c(){const $=t.let("i",(0,qe._)`${r}.length`),w=t.let("j");e.setParams({i:$,j:w}),t.assign(l,!0),t.if((0,qe._)`${$} > 1`,()=>(d()?_:b)($,w))}function d(){return f.length>0&&!f.some($=>$==="object"||$==="array")}function _($,w){const v=t.name("item"),g=(0,Cs.checkDataTypes)(f,v,a.opts.strictNumbers,Cs.DataType.Wrong),C=t.const("indices",(0,qe._)`{}`);t.for((0,qe._)`;${$}--;`,()=>{t.let(v,(0,qe._)`${r}[${$}]`),t.if(g,(0,qe._)`continue`),f.length>1&&t.if((0,qe._)`typeof ${v} == "string"`,(0,qe._)`${v} += "_"`),t.if((0,qe._)`typeof ${C}[${v}] == "number"`,()=>{t.assign(w,(0,qe._)`${C}[${v}]`),e.error(),t.assign(l,!1).break()}).code((0,qe._)`${C}[${v}] = ${$}`)})}function b($,w){const v=(0,Ph.useFunc)(t,Oh.default),g=t.name("outer");t.label(g).for((0,qe._)`;${$}--;`,()=>t.for((0,qe._)`${w} = ${$}; ${w}--;`,()=>t.if((0,qe._)`${v}(${r}[${$}], ${r}[${w}])`,()=>{e.error(),t.assign(l,!1).break(g)})))}}};Mi.default=Nh;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});const Ws=pe(),Th=be,Rh=dn,Ah={message:"must be equal to constant",params:({schemaCode:e})=>(0,Ws._)`{allowedValue: ${e}}`},Ih={keyword:"const",$data:!0,error:Ah,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,Ws._)`!${(0,Th.useFunc)(t,Rh.default)}(${r}, ${s})`):e.fail((0,Ws._)`${i} !== ${r}`)}};Fi.default=Ih;var Li={};Object.defineProperty(Li,"__esModule",{value:!0});const zr=pe(),jh=be,kh=dn,Dh={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,zr._)`{allowedValues: ${e}}`},Mh={keyword:"enum",schemaType:"array",$data:!0,error:Dh,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:i,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const a=s.length>=o.opts.loopEnum;let l;const f=()=>l??(l=(0,jh.useFunc)(t,kh.default));let c;if(a||n)c=t.let("valid"),e.block$data(c,d);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const b=t.const("vSchema",i);c=(0,zr.or)(...s.map(($,w)=>_(b,w)))}e.pass(c);function d(){t.assign(c,!1),t.forOf("v",i,b=>t.if((0,zr._)`${f()}(${r}, ${b})`,()=>t.assign(c,!0).break()))}function _(b,$){const w=s[$];return typeof w=="object"&&w!==null?(0,zr._)`${f()}(${r}, ${b}[${$}])`:(0,zr._)`${r} === ${w}`}}};Li.default=Mh;Object.defineProperty(Ci,"__esModule",{value:!0});const Fh=Ni,Lh=Ti,Vh=Ri,Uh=Ii,qh=ji,Hh=ki,Kh=Di,xh=Mi,zh=Fi,Bh=Li,Yh=[Fh.default,Lh.default,Vh.default,Uh.default,qh.default,Hh.default,Kh.default,xh.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},zh.default,Bh.default];Ci.default=Yh;var Vi={},Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.validateAdditionalItems=void 0;const ur=pe(),Js=be,Gh={message:({params:{len:e}})=>(0,ur.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ur._)`{limit: ${e}}`},Wh={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Gh,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Js.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Gl(e,n)}};function Gl(e,t){const{gen:r,schema:n,data:s,keyword:i,it:o}=e;o.items=!0;const a=r.const("len",(0,ur._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,ur._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,Js.alwaysValidSchema)(o,n)){const f=r.var("valid",(0,ur._)`${a} <= ${t.length}`);r.if((0,ur.not)(f),()=>l(f)),e.ok(f)}function l(f){r.forRange("i",t.length,a,c=>{e.subschema({keyword:i,dataProp:c,dataPropType:Js.Type.Num},f),o.allErrors||r.if((0,ur.not)(f),()=>r.break())})}}Dr.validateAdditionalItems=Gl;Dr.default=Wh;var Ui={},Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.validateTuple=void 0;const ma=pe(),Ln=be,Jh=Et(),Zh={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Wl(e,"additionalItems",t);r.items=!0,!(0,Ln.alwaysValidSchema)(r,t)&&e.ok((0,Jh.validateArray)(e))}};function Wl(e,t,r=e.schema){const{gen:n,parentSchema:s,data:i,keyword:o,it:a}=e;c(s),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=Ln.mergeEvaluated.items(n,r.length,a.items));const l=n.name("valid"),f=n.const("len",(0,ma._)`${i}.length`);r.forEach((d,_)=>{(0,Ln.alwaysValidSchema)(a,d)||(n.if((0,ma._)`${f} > ${_}`,()=>e.subschema({keyword:o,schemaProp:_,dataProp:_},l)),e.ok(l))});function c(d){const{opts:_,errSchemaPath:b}=a,$=r.length,w=$===d.minItems&&($===d.maxItems||d[t]===!1);if(_.strictTuples&&!w){const v=`"${o}" is ${$}-tuple, but minItems or maxItems/${t} are not specified or different at path "${b}"`;(0,Ln.checkStrictMode)(a,v,_.strictTuples)}}}Mr.validateTuple=Wl;Mr.default=Zh;Object.defineProperty(Ui,"__esModule",{value:!0});const Xh=Mr,Qh={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Xh.validateTuple)(e,"items")};Ui.default=Qh;var qi={};Object.defineProperty(qi,"__esModule",{value:!0});const ya=pe(),ep=be,tp=Et(),rp=Dr,np={message:({params:{len:e}})=>(0,ya.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ya._)`{limit: ${e}}`},sp={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:np,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,ep.alwaysValidSchema)(n,t)&&(s?(0,rp.validateAdditionalItems)(e,s):e.ok((0,tp.validateArray)(e)))}};qi.default=sp;var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});const lt=pe(),On=be,ip={message:({params:{min:e,max:t}})=>t===void 0?(0,lt.str)`must contain at least ${e} valid item(s)`:(0,lt.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,lt._)`{minContains: ${e}}`:(0,lt._)`{minContains: ${e}, maxContains: ${t}}`},op={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:ip,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;let o,a;const{minContains:l,maxContains:f}=n;i.opts.next?(o=l===void 0?1:l,a=f):o=1;const c=t.const("len",(0,lt._)`${s}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,On.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,On.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,On.alwaysValidSchema)(i,r)){let w=(0,lt._)`${c} >= ${o}`;a!==void 0&&(w=(0,lt._)`${w} && ${c} <= ${a}`),e.pass(w);return}i.items=!0;const d=t.name("valid");a===void 0&&o===1?b(d,()=>t.if(d,()=>t.break())):o===0?(t.let(d,!0),a!==void 0&&t.if((0,lt._)`${s}.length > 0`,_)):(t.let(d,!1),_()),e.result(d,()=>e.reset());function _(){const w=t.name("_valid"),v=t.let("count",0);b(w,()=>t.if(w,()=>$(v)))}function b(w,v){t.forRange("i",0,c,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:On.Type.Num,compositeRule:!0},w),v()})}function $(w){t.code((0,lt._)`${w}++`),a===void 0?t.if((0,lt._)`${w} >= ${o}`,()=>t.assign(d,!0).break()):(t.if((0,lt._)`${w} > ${a}`,()=>t.assign(d,!1).break()),o===1?t.assign(d,!0):t.if((0,lt._)`${w} >= ${o}`,()=>t.assign(d,!0)))}}};Hi.default=op;var Jl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=pe(),r=be,n=Et();e.error={message:({params:{property:l,depsCount:f,deps:c}})=>{const d=f===1?"property":"properties";return(0,t.str)`must have ${d} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:f,deps:c,missingProperty:d}})=>(0,t._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${f},
    deps: ${c}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[f,c]=i(l);o(l,f),a(l,c)}};function i({schema:l}){const f={},c={};for(const d in l){if(d==="__proto__")continue;const _=Array.isArray(l[d])?f:c;_[d]=l[d]}return[f,c]}function o(l,f=l.schema){const{gen:c,data:d,it:_}=l;if(Object.keys(f).length===0)return;const b=c.let("missing");for(const $ in f){const w=f[$];if(w.length===0)continue;const v=(0,n.propertyInData)(c,d,$,_.opts.ownProperties);l.setParams({property:$,depsCount:w.length,deps:w.join(", ")}),_.allErrors?c.if(v,()=>{for(const g of w)(0,n.checkReportMissingProp)(l,g)}):(c.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,w,b)})`),(0,n.reportMissingProp)(l,b),c.else())}}e.validatePropertyDeps=o;function a(l,f=l.schema){const{gen:c,data:d,keyword:_,it:b}=l,$=c.name("valid");for(const w in f)(0,r.alwaysValidSchema)(b,f[w])||(c.if((0,n.propertyInData)(c,d,w,b.opts.ownProperties),()=>{const v=l.subschema({keyword:_,schemaProp:w},$);l.mergeValidEvaluated(v,$)},()=>c.var($,!0)),l.ok($))}e.validateSchemaDeps=a,e.default=s})(Jl);var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});const Zl=pe(),ap=be,lp={message:"property name must be valid",params:({params:e})=>(0,Zl._)`{propertyName: ${e.propertyName}}`},cp={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:lp,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,ap.alwaysValidSchema)(s,r))return;const i=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},i),t.if((0,Zl.not)(i),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(i)}};Ki.default=cp;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});const Cn=Et(),mt=pe(),up=Xt(),Nn=be,fp={message:"must NOT have additional properties",params:({params:e})=>(0,mt._)`{additionalProperty: ${e.additionalProperty}}`},dp={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:fp,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:i,it:o}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,Nn.alwaysValidSchema)(o,r))return;const f=(0,Cn.allSchemaProperties)(n.properties),c=(0,Cn.allSchemaProperties)(n.patternProperties);d(),e.ok((0,mt._)`${i} === ${up.default.errors}`);function d(){t.forIn("key",s,v=>{!f.length&&!c.length?$(v):t.if(_(v),()=>$(v))})}function _(v){let g;if(f.length>8){const C=(0,Nn.schemaRefOrVal)(o,n.properties,"properties");g=(0,Cn.isOwnProperty)(t,C,v)}else f.length?g=(0,mt.or)(...f.map(C=>(0,mt._)`${v} === ${C}`)):g=mt.nil;return c.length&&(g=(0,mt.or)(g,...c.map(C=>(0,mt._)`${(0,Cn.usePattern)(e,C)}.test(${v})`))),(0,mt.not)(g)}function b(v){t.code((0,mt._)`delete ${s}[${v}]`)}function $(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){b(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,Nn.alwaysValidSchema)(o,r)){const g=t.name("valid");l.removeAdditional==="failing"?(w(v,g,!1),t.if((0,mt.not)(g),()=>{e.reset(),b(v)})):(w(v,g),a||t.if((0,mt.not)(g),()=>t.break()))}}function w(v,g,C){const y={keyword:"additionalProperties",dataProp:v,dataPropType:Nn.Type.Str};C===!1&&Object.assign(y,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(y,g)}}};hs.default=dp;var xi={};Object.defineProperty(xi,"__esModule",{value:!0});const hp=us(),ga=Et(),Ns=be,va=hs,pp={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&va.default.code(new hp.KeywordCxt(i,va.default,"additionalProperties"));const o=(0,ga.allSchemaProperties)(r);for(const d of o)i.definedProperties.add(d);i.opts.unevaluated&&o.length&&i.props!==!0&&(i.props=Ns.mergeEvaluated.props(t,(0,Ns.toHash)(o),i.props));const a=o.filter(d=>!(0,Ns.alwaysValidSchema)(i,r[d]));if(a.length===0)return;const l=t.name("valid");for(const d of a)f(d)?c(d):(t.if((0,ga.propertyInData)(t,s,d,i.opts.ownProperties)),c(d),i.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(l);function f(d){return i.opts.useDefaults&&!i.compositeRule&&r[d].default!==void 0}function c(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};xi.default=pp;var zi={};Object.defineProperty(zi,"__esModule",{value:!0});const _a=Et(),Tn=pe(),$a=be,ba=be,mp={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:i}=e,{opts:o}=i,a=(0,_a.allSchemaProperties)(r),l=a.filter(w=>(0,$a.alwaysValidSchema)(i,r[w]));if(a.length===0||l.length===a.length&&(!i.opts.unevaluated||i.props===!0))return;const f=o.strictSchema&&!o.allowMatchingProperties&&s.properties,c=t.name("valid");i.props!==!0&&!(i.props instanceof Tn.Name)&&(i.props=(0,ba.evaluatedPropsToName)(t,i.props));const{props:d}=i;_();function _(){for(const w of a)f&&b(w),i.allErrors?$(w):(t.var(c,!0),$(w),t.if(c))}function b(w){for(const v in f)new RegExp(w).test(v)&&(0,$a.checkStrictMode)(i,`property ${v} matches pattern ${w} (use allowMatchingProperties)`)}function $(w){t.forIn("key",n,v=>{t.if((0,Tn._)`${(0,_a.usePattern)(e,w)}.test(${v})`,()=>{const g=l.includes(w);g||e.subschema({keyword:"patternProperties",schemaProp:w,dataProp:v,dataPropType:ba.Type.Str},c),i.opts.unevaluated&&d!==!0?t.assign((0,Tn._)`${d}[${v}]`,!0):!g&&!i.allErrors&&t.if((0,Tn.not)(c),()=>t.break())})})}}};zi.default=mp;var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});const yp=be,gp={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,yp.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Bi.default=gp;var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});const vp=Et(),_p={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:vp.validateUnion,error:{message:"must match a schema in anyOf"}};Yi.default=_p;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});const Vn=pe(),$p=be,bp={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Vn._)`{passingSchemas: ${e.passing}}`},wp={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:bp,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const i=r,o=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(f),e.result(o,()=>e.reset(),()=>e.error(!0));function f(){i.forEach((c,d)=>{let _;(0,$p.alwaysValidSchema)(s,c)?t.var(l,!0):_=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&t.if((0,Vn._)`${l} && ${o}`).assign(o,!1).assign(a,(0,Vn._)`[${a}, ${d}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(a,d),_&&e.mergeEvaluated(_,Vn.Name)})})}}};Gi.default=wp;var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});const Ep=be,Sp={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((i,o)=>{if((0,Ep.alwaysValidSchema)(n,i))return;const a=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(a)})}};Wi.default=Sp;var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});const Gn=pe(),Xl=be,Pp={message:({params:e})=>(0,Gn.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Gn._)`{failingKeyword: ${e.ifClause}}`},Op={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Pp,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Xl.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=wa(n,"then"),i=wa(n,"else");if(!s&&!i)return;const o=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),s&&i){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,f("then",c),f("else",c))}else s?t.if(a,f("then")):t.if((0,Gn.not)(a),f("else"));e.pass(o,()=>e.error(!0));function l(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function f(c,d){return()=>{const _=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(_,o),d?t.assign(d,(0,Gn._)`${c}`):e.setParams({ifClause:c})}}}};function wa(e,t){const r=e.schema[t];return r!==void 0&&!(0,Xl.alwaysValidSchema)(e,r)}Ji.default=Op;var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});const Cp=be,Np={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Cp.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Zi.default=Np;Object.defineProperty(Vi,"__esModule",{value:!0});const Tp=Dr,Rp=Ui,Ap=Mr,Ip=qi,jp=Hi,kp=Jl,Dp=Ki,Mp=hs,Fp=xi,Lp=zi,Vp=Bi,Up=Yi,qp=Gi,Hp=Wi,Kp=Ji,xp=Zi;function zp(e=!1){const t=[Vp.default,Up.default,qp.default,Hp.default,Kp.default,xp.default,Dp.default,Mp.default,kp.default,Fp.default,Lp.default];return e?t.push(Rp.default,Ip.default):t.push(Tp.default,Ap.default),t.push(jp.default),t}Vi.default=zp;var Xi={},Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});const Me=pe(),Bp={message:({schemaCode:e})=>(0,Me.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Me._)`{format: ${e}}`},Yp={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Bp,code(e,t){const{gen:r,data:n,$data:s,schema:i,schemaCode:o,it:a}=e,{opts:l,errSchemaPath:f,schemaEnv:c,self:d}=a;if(!l.validateFormats)return;s?_():b();function _(){const $=r.scopeValue("formats",{ref:d.formats,code:l.code.formats}),w=r.const("fDef",(0,Me._)`${$}[${o}]`),v=r.let("fType"),g=r.let("format");r.if((0,Me._)`typeof ${w} == "object" && !(${w} instanceof RegExp)`,()=>r.assign(v,(0,Me._)`${w}.type || "string"`).assign(g,(0,Me._)`${w}.validate`),()=>r.assign(v,(0,Me._)`"string"`).assign(g,w)),e.fail$data((0,Me.or)(C(),y()));function C(){return l.strictSchema===!1?Me.nil:(0,Me._)`${o} && !${g}`}function y(){const R=c.$async?(0,Me._)`(${w}.async ? await ${g}(${n}) : ${g}(${n}))`:(0,Me._)`${g}(${n})`,U=(0,Me._)`(typeof ${g} == "function" ? ${R} : ${g}.test(${n}))`;return(0,Me._)`${g} && ${g} !== true && ${v} === ${t} && !${U}`}}function b(){const $=d.formats[i];if(!$){C();return}if($===!0)return;const[w,v,g]=y($);w===t&&e.pass(R());function C(){if(l.strictSchema===!1){d.logger.warn(U());return}throw new Error(U());function U(){return`unknown format "${i}" ignored in schema at path "${f}"`}}function y(U){const T=U instanceof RegExp?(0,Me.regexpCode)(U):l.code.formats?(0,Me._)`${l.code.formats}${(0,Me.getProperty)(i)}`:void 0,I=r.scopeValue("formats",{key:i,ref:U,code:T});return typeof U=="object"&&!(U instanceof RegExp)?[U.type||"string",U.validate,(0,Me._)`${I}.validate`]:["string",U,I]}function R(){if(typeof $=="object"&&!($ instanceof RegExp)&&$.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Me._)`await ${g}(${n})`}return typeof v=="function"?(0,Me._)`${g}(${n})`:(0,Me._)`${g}.test(${n})`}}}};Qi.default=Yp;Object.defineProperty(Xi,"__esModule",{value:!0});const Gp=Qi,Wp=[Gp.default];Xi.default=Wp;var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.contentVocabulary=Ar.metadataVocabulary=void 0;Ar.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Ar.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Si,"__esModule",{value:!0});const Jp=Pi,Zp=Ci,Xp=Vi,Qp=Xi,Ea=Ar,em=[Jp.default,Zp.default,(0,Xp.default)(),Qp.default,Ea.metadataVocabulary,Ea.contentVocabulary];Si.default=em;var eo={},Ql={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Ql);Object.defineProperty(eo,"__esModule",{value:!0});const $r=pe(),Zs=Ql,Sa=tt,tm=be,rm={message:({params:{discrError:e,tagName:t}})=>e===Zs.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,$r._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},nm={keyword:"discriminator",type:"object",schemaType:"object",error:rm,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:i}=e,{oneOf:o}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),f=t.const("tag",(0,$r._)`${r}${(0,$r.getProperty)(a)}`);t.if((0,$r._)`typeof ${f} == "string"`,()=>c(),()=>e.error(!1,{discrError:Zs.DiscrError.Tag,tag:f,tagName:a})),e.ok(l);function c(){const b=_();t.if(!1);for(const $ in b)t.elseIf((0,$r._)`${f} === ${$}`),t.assign(l,d(b[$]));t.else(),e.error(!1,{discrError:Zs.DiscrError.Mapping,tag:f,tagName:a}),t.endIf()}function d(b){const $=t.name("valid"),w=e.subschema({keyword:"oneOf",schemaProp:b},$);return e.mergeEvaluated(w,$r.Name),$}function _(){var b;const $={},w=g(s);let v=!0;for(let R=0;R<o.length;R++){let U=o[R];U!=null&&U.$ref&&!(0,tm.schemaHasRulesButRef)(U,i.self.RULES)&&(U=Sa.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,U==null?void 0:U.$ref),U instanceof Sa.SchemaEnv&&(U=U.schema));const T=(b=U==null?void 0:U.properties)===null||b===void 0?void 0:b[a];if(typeof T!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(w||g(U)),C(T,R)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return $;function g({required:R}){return Array.isArray(R)&&R.includes(a)}function C(R,U){if(R.const)y(R.const,U);else if(R.enum)for(const T of R.enum)y(T,U);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function y(R,U){if(typeof R!="string"||R in $)throw new Error(`discriminator: "${a}" values must be unique strings`);$[R]=U}}}};eo.default=nm;var sm="http://json-schema.org/draft-07/schema#",im="http://json-schema.org/draft-07/schema#",om="Core schema meta-schema",am={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},lm=["object","boolean"],cm={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},um={$schema:sm,$id:im,title:om,definitions:am,type:lm,properties:cm,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Ml,n=Si,s=eo,i=um,o=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach($=>this.addVocabulary($)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const $=this.opts.$data?this.$dataMetaSchema(i,o):i;this.addMetaSchema($,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var f=us();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var c=pe();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var d=$i();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var _=bi();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return _.default}})})(Bs,Bs.exports);var fm=Bs.exports,dm=_d(fm);const to=new dm;function ec(e,t){const r={type:"object",required:Object.keys(e),properties:e};return to.validate(r,t)}function hm(e,t){const{params:r}=Dl[e];if(!ec(r,t))throw new Error(to.errorsText())}function pm(e,t){const{result:r}=Dl[e];if(!ec(r,t))throw new Error(to.errorsText())}var wt;(function(e){e[e.ANY=0]="ANY",e[e.CRYO=1]="CRYO",e[e.HYDRO=2]="HYDRO",e[e.PYRO=3]="PYRO",e[e.ELECTRO=4]="ELECTRO",e[e.ANEMO=5]="ANEMO",e[e.GEO=6]="GEO",e[e.DENDRO=7]="DENDRO",e[e.OMNI=8]="OMNI",e[e.SAME=8]="SAME"})(wt||(wt={}));var Je;(function(e){e[e.PHYSICAL=0]="PHYSICAL",e[e.CRYO=1]="CRYO",e[e.HYDRO=2]="HYDRO",e[e.PYRO=3]="PYRO",e[e.ELECTRO=4]="ELECTRO",e[e.ANEMO=5]="ANEMO",e[e.GEO=6]="GEO",e[e.DENDRO=7]="DENDRO",e[e.PIERCING=8]="PIERCING",e[e.HEAL=9]="HEAL"})(Je||(Je={}));var Xs;(function(e){e[e.NONE=0]="NONE",e[e.CRYO=1]="CRYO",e[e.HYDRO=2]="HYDRO",e[e.PYRO=3]="PYRO",e[e.ELECTRO=4]="ELECTRO",e[e.ANEMO=5]="ANEMO",e[e.GEO=6]="GEO",e[e.DENDRO=7]="DENDRO"})(Xs||(Xs={}));var Pa;(function(e){e[e.MELT=1]="MELT",e[e.VAPORIZE=2]="VAPORIZE",e[e.OVERLOADED=3]="OVERLOADED",e[e.SUPERCONDUCT=4]="SUPERCONDUCT",e[e.ELECTRO_CHARGED=5]="ELECTRO_CHARGED",e[e.FROZEN=6]="FROZEN",e[e.SWIRL_CRYO=7]="SWIRL_CRYO",e[e.SWIRL_HYDRO=8]="SWIRL_HYDRO",e[e.SWIRL_PYRO=9]="SWIRL_PYRO",e[e.SWIRL_ELECTRO=10]="SWIRL_ELECTRO",e[e.CRYSTALLIZE_CRYO=11]="CRYSTALLIZE_CRYO",e[e.CRYSTALLIZE_HYDRO=12]="CRYSTALLIZE_HYDRO",e[e.CRYSTALLIZE_PYRO=13]="CRYSTALLIZE_PYRO",e[e.CRYSTALLIZE_ELECTRO=14]="CRYSTALLIZE_ELECTRO",e[e.BURNING=15]="BURNING",e[e.BLOOM=16]="BLOOM",e[e.QUICKEN=17]="QUICKEN"})(Pa||(Pa={}));function Ze(e,t,r,n,s,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",f=!t&&e?n.static?e:e.prototype:null,c=t||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),d,_=!1,b=r.length-1;b>=0;b--){var $={};for(var w in n)$[w]=w==="access"?{}:n[w];for(var w in n.access)$.access[w]=n.access[w];$.addInitializer=function(g){if(_)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var v=(0,r[b])(a==="accessor"?{get:c.get,set:c.set}:c[l],$);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(d=o(v.get))&&(c.get=d),(d=o(v.set))&&(c.set=d),(d=o(v.init))&&s.unshift(d)}else(d=o(v))&&(a==="field"?s.unshift(d):c[l]=d)}f&&Object.defineProperty(f,n.name,c),_=!0}function Ut(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function ro(e){return(t,r)=>{if(t.info)throw new Error("Decorating multiple times");t.info=e,t.skill=[];for(const n of Object.getOwnPropertyNames(t.prototype)){const s=t.prototype[n];if(s[Xr]){const i=s[Xr];i.do=s,t.skill.push(i)}}return t}}const Xr=Symbol("skill");function tc(e){return e[Xr]=e[Xr]??{},e[Xr]}function Ht(e){return t=>(r,n)=>{const s=tc(r);return s.costs=s.costs??{},s.costs[e]=t,r}}const no=Ht(wt.ANY);Ht(wt.CRYO);Ht(wt.HYDRO);const Cr=Ht(wt.PYRO),Ts=Ht(wt.ELECTRO);Ht(wt.ANEMO);Ht(wt.GEO);Ht(wt.DENDRO);Ht(wt.OMNI);function so(e){return(t,r)=>{const n=tc(t),s=String(r.name);if(n.type)throw new Error(`Cannot have multiple types for ${String(s)}`);return n.type=e,n.name=s,t}}const io=so("normal"),oo=so("skill"),ao=so("burst");function rc(e){return t=>(r,n)=>{}}const mm=rc(),nc=rc();let ym=(()=>{var l;let e=[ro({health:10,energy:3})],t,r=[],n,s=[],i,o,a;return l=class{strikeOfFortune(c){c.damage(2,Je.PHYSICAL)}passionOverload(c){c.damage(3,Je.PYRO)}fantasticVoyage(c){c.damage(2,Je.PYRO),c.createCombatStatus(gm)}constructor(){Ut(this,s)}},i=[io,Cr(1),no(2)],o=[oo,Cr(3)],a=[ao,Cr(3)],Ze(l,null,i,{kind:"method",name:"strikeOfFortune",static:!1,private:!1,access:{has:c=>"strikeOfFortune"in c,get:c=>c.strikeOfFortune}},null,s),Ze(l,null,o,{kind:"method",name:"passionOverload",static:!1,private:!1,access:{has:c=>"passionOverload"in c,get:c=>c.passionOverload}},null,s),Ze(l,null,a,{kind:"method",name:"fantasticVoyage",static:!1,private:!1,access:{has:c=>"fantasticVoyage"in c,get:c=>c.fantasticVoyage}},null,s),Ze(null,t={value:l},e,{kind:"class",name:l.name},null,r),n=t.value,Ut(n,r),n})(),gm=(()=>{var s;let e=[nc({duration:2})],t,r=[],n;return s=class{onBeforeUseSkill(o){o.character.health<=7&&o.addDamage(2)}onUseSkill(o){o.character.health<=6&&o.character.heal(2)}},Ze(null,t={value:s},e,{kind:"class",name:s.name},null,r),n=t.value,Ut(n,r),n})();var Qs;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.STANDBY=1]="STANDBY"})(Qs||(Qs={}));let vm=(()=>{var l;let e=[ro({health:10,energy:3})],t,r=[],n,s=[],i,o,a;return l=class{yunlaiSwordsmanship(c){c.damage(2,Je.PHYSICAL)}stellarRestoration(c){c.damage(3,Je.PYRO)}starwardSword(c){c.damage(4,Je.PYRO),c.damage(3,Je.PIERCING,Qs.STANDBY)}constructor(){Ut(this,s)}},i=[io,Ts(1),no(2)],o=[oo,Ts(3)],a=[ao,Ts(4)],Ze(l,null,i,{kind:"method",name:"yunlaiSwordsmanship",static:!1,private:!1,access:{has:c=>"yunlaiSwordsmanship"in c,get:c=>c.yunlaiSwordsmanship}},null,s),Ze(l,null,o,{kind:"method",name:"stellarRestoration",static:!1,private:!1,access:{has:c=>"stellarRestoration"in c,get:c=>c.stellarRestoration}},null,s),Ze(l,null,a,{kind:"method",name:"starwardSword",static:!1,private:!1,access:{has:c=>"starwardSword"in c,get:c=>c.starwardSword}},null,s),Ze(null,t={value:l},e,{kind:"class",name:l.name},null,r),n=t.value,Ut(n,r),n})(),_m=(()=>{var l;let e=[ro({health:10,energy:3})],t,r=[],n,s=[],i,o,a;return l=class{strikeOfFortune(c){c.damage(1,Je.PYRO)}passionOverload(c){c.damage(3,Je.PYRO),c.createStatus($m)}fantasticVoyage(c){c.damage(3,Je.PYRO),c.createCombatStatus(bm,!0)}constructor(){Ut(this,s)}},i=[io,Cr(1),no(2)],o=[oo,Cr(3)],a=[ao,Cr(3)],Ze(l,null,i,{kind:"method",name:"strikeOfFortune",static:!1,private:!1,access:{has:c=>"strikeOfFortune"in c,get:c=>c.strikeOfFortune}},null,s),Ze(l,null,o,{kind:"method",name:"passionOverload",static:!1,private:!1,access:{has:c=>"passionOverload"in c,get:c=>c.passionOverload}},null,s),Ze(l,null,a,{kind:"method",name:"fantasticVoyage",static:!1,private:!1,access:{has:c=>"fantasticVoyage"in c,get:c=>c.fantasticVoyage}},null,s),Ze(null,t={value:l},e,{kind:"class",name:l.name},null,r),n=t.value,Ut(n,r),n})(),$m=(()=>{var s;let e=[mm({usage:1})],t,r=[],n;return s=class{},Ze(null,t={value:s},e,{kind:"class",name:s.name},null,r),n=t.value,Ut(n,r),n})(),bm=(()=>{var s;let e=[nc({usage:2})],t,r=[],n;return s=class{onUseSkill(o){o.character.damage(2,Je.PYRO)}},Ze(null,t={value:s},e,{kind:"class",name:s.name},null,r),n=t.value,Ut(n,r),n})();const wm={0:ym,1:vm,2:_m};class Em{constructor(t,r,n){Ge(this,"id");Ge(this,"objectId");Ge(this,"info");Ge(this,"health");Ge(this,"energy");Ge(this,"weapon");Ge(this,"artifact");Ge(this,"equipments",[]);Ge(this,"statuses",[]);Ge(this,"applied",Xs.NONE);this.id=t,this.objectId=r,this.info=n,this.health=n.health,this.energy=0}toFacade(){return{id:this.id,objectId:this.objectId,health:this.health,energy:this.energy,weapon:this.weapon,artifact:this.artifact,equipments:this.equipments,statuses:this.statuses,applied:this.applied}}heal(t){return this.damage(t,Je.HEAL)}damage(t,r){if(r===Je.HEAL){const n=Math.max(this.info.health,this.health+t);this.health=n}else this.health-=t}}function Oa(e,t){const r=wm[e];if(typeof r>"u")throw new Error("Unknown id");return new Em(t,e,r.info)}var Sm=typeof global=="object"&&global&&global.Object===Object&&global,sc=Sm,Pm=typeof self=="object"&&self&&self.Object===Object&&self,Om=sc||Pm||Function("return this")(),ic=Om,Cm=ic.Symbol,Wn=Cm,oc=Object.prototype,Nm=oc.hasOwnProperty,Tm=oc.toString,Kr=Wn?Wn.toStringTag:void 0;function Rm(e){var t=Nm.call(e,Kr),r=e[Kr];try{e[Kr]=void 0;var n=!0}catch{}var s=Tm.call(e);return n&&(t?e[Kr]=r:delete e[Kr]),s}var Am=Object.prototype,Im=Am.toString;function jm(e){return Im.call(e)}var km="[object Null]",Dm="[object Undefined]",Ca=Wn?Wn.toStringTag:void 0;function lo(e){return e==null?e===void 0?Dm:km:Ca&&Ca in Object(e)?Rm(e):jm(e)}function co(e){return e!=null&&typeof e=="object"}function Mm(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var Fm=Array.isArray,ac=Fm;function Lm(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Vm="[object AsyncFunction]",Um="[object Function]",qm="[object GeneratorFunction]",Hm="[object Proxy]";function Km(e){if(!Lm(e))return!1;var t=lo(e);return t==Um||t==qm||t==Vm||t==Hm}function xm(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var zm=9007199254740991,Bm=/^(?:0|[1-9]\d*)$/;function Ym(e,t){var r=typeof e;return t=t??zm,!!t&&(r=="number"||r!="symbol"&&Bm.test(e))&&e>-1&&e%1==0&&e<t}var Gm=9007199254740991;function lc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Gm}function Wm(e){return e!=null&&lc(e.length)&&!Km(e)}var Jm=Object.prototype;function Zm(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Jm;return e===r}function Xm(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Qm="[object Arguments]";function Na(e){return co(e)&&lo(e)==Qm}var cc=Object.prototype,ey=cc.hasOwnProperty,ty=cc.propertyIsEnumerable,ry=Na(function(){return arguments}())?Na:function(e){return co(e)&&ey.call(e,"callee")&&!ty.call(e,"callee")},ny=ry;function sy(){return!1}var uc=typeof Mt=="object"&&Mt&&!Mt.nodeType&&Mt,Ta=uc&&typeof Ft=="object"&&Ft&&!Ft.nodeType&&Ft,iy=Ta&&Ta.exports===uc,Ra=iy?ic.Buffer:void 0,oy=Ra?Ra.isBuffer:void 0,ay=oy||sy,ly=ay,cy="[object Arguments]",uy="[object Array]",fy="[object Boolean]",dy="[object Date]",hy="[object Error]",py="[object Function]",my="[object Map]",yy="[object Number]",gy="[object Object]",vy="[object RegExp]",_y="[object Set]",$y="[object String]",by="[object WeakMap]",wy="[object ArrayBuffer]",Ey="[object DataView]",Sy="[object Float32Array]",Py="[object Float64Array]",Oy="[object Int8Array]",Cy="[object Int16Array]",Ny="[object Int32Array]",Ty="[object Uint8Array]",Ry="[object Uint8ClampedArray]",Ay="[object Uint16Array]",Iy="[object Uint32Array]",Te={};Te[Sy]=Te[Py]=Te[Oy]=Te[Cy]=Te[Ny]=Te[Ty]=Te[Ry]=Te[Ay]=Te[Iy]=!0;Te[cy]=Te[uy]=Te[wy]=Te[fy]=Te[Ey]=Te[dy]=Te[hy]=Te[py]=Te[my]=Te[yy]=Te[gy]=Te[vy]=Te[_y]=Te[$y]=Te[by]=!1;function jy(e){return co(e)&&lc(e.length)&&!!Te[lo(e)]}function ky(e){return function(t){return e(t)}}var fc=typeof Mt=="object"&&Mt&&!Mt.nodeType&&Mt,Qr=fc&&typeof Ft=="object"&&Ft&&!Ft.nodeType&&Ft,Dy=Qr&&Qr.exports===fc,Rs=Dy&&sc.process,My=function(){try{var e=Qr&&Qr.require&&Qr.require("util").types;return e||Rs&&Rs.binding&&Rs.binding("util")}catch{}}(),Aa=My,Ia=Aa&&Aa.isTypedArray,Fy=Ia?ky(Ia):jy,Ly=Fy,Vy=Object.prototype,Uy=Vy.hasOwnProperty;function qy(e,t){var r=ac(e),n=!r&&ny(e),s=!r&&!n&&ly(e),i=!r&&!n&&!s&&Ly(e),o=r||n||s||i,a=o?Xm(e.length,String):[],l=a.length;for(var f in e)(t||Uy.call(e,f))&&!(o&&(f=="length"||s&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Ym(f,l)))&&a.push(f);return a}function Hy(e,t){return function(r){return e(t(r))}}var Ky=Hy(Object.keys,Object),xy=Ky,zy=Object.prototype,By=zy.hasOwnProperty;function Yy(e){if(!Zm(e))return xy(e);var t=[];for(var r in Object(e))By.call(e,r)&&r!="constructor"&&t.push(r);return t}function Gy(e){return Wm(e)?qy(e):Yy(e)}function Wy(e,t){return Mm(t,function(r){return e[r]})}function Jy(e){return e==null?[]:Wy(e,Gy(e))}var Zy=Math.floor,Xy=Math.random;function Qy(e,t){return e+Zy(Xy()*(t-e+1))}function dc(e,t){var r=-1,n=e.length,s=n-1;for(t=t===void 0?n:t;++r<t;){var i=Qy(r,s),o=e[i];e[i]=e[r],e[r]=o}return e.length=t,e}function eg(e){return dc(xm(e))}function tg(e){return dc(Jy(e))}function As(e){var t=ac(e)?eg:tg;return t(e)}function Is(e){return 1-e}const ja=5,ka=10;class rg{constructor(t){Ge(this,"options");Ge(this,"state");Ge(this,"p0");Ge(this,"p1");this.options=t,this.state={type:"coinToss"},[this.p0,this.p1]=t.players}async next(){switch(this.state.type){case"coinToss":{Math.random()<.5&&([this.p0,this.p1]=[this.p1,this.p0]);const t=As(this.p0.piles),r=As(this.p1.piles);this.state={type:"initHands",players:[this.p0.id,this.p1.id],characters:[this.p0.characters.map(Oa),this.p1.characters.map(Oa)],combatStatuses:[[],[]],piles:[t,r],hands:[[],[]],summons:[[],[]],supports:[[],[]],nextTurn:0},await Promise.all([this.requestPlayer(0,"initialize",{first:!0,state:this.createFacade(0)}),this.requestPlayer(1,"initialize",{first:!1,state:this.createFacade(1)})]);break}case"initHands":{await Promise.all([this.drawHands(0,ja),this.drawHands(1,ja)]),await Promise.all([this.switchHands(0),this.switchHands(1)]),this.state={...this.state,type:"initActive",actives:[0,0]};break}case"initActive":{await Promise.all([this.switchActive(0,"noNotify"),this.switchActive(1,"noNotify")]),this.switchActive(0,"justNotify"),this.switchActive(1,"justNotify");break}}}updatePhase(t){this.notifyPlayer({source:{type:"phaseBegin",phase:t}})}async requestPlayer(t,r,n){debugger;const s=t?this.p1:this.p0;hm(r,n);const i=await s.handler(r,n);return pm(r,i),i}notifyPlayer(t,r){(typeof r>"u"||r===0)&&this.requestPlayer(0,"notify",{event:{...t,state:this.createFacade(0)}}).catch(()=>{}),(typeof r>"u"||r===1)&&this.requestPlayer(1,"notify",{event:{...t,state:this.createFacade(1)}}).catch(()=>{})}ensureHands(t){if(!("hands"in t))throw new Error("bad state (hands)")}ensureActives(t){if(!("actives"in t))throw new Error("bad state (actives)")}sortHands(t){this.ensureHands(this.state),this.state.hands[t].sort((r,n)=>r-n)}async drawHands(t,r=2){this.ensureHands(this.state);const n=this.state.piles[t].splice(0,r);this.state.hands[t].push(...n);let s=[];this.state.hands[t].length>ka&&(s=this.state.hands[t].splice(ka)),await this.requestPlayer(t,"drawHands",{hands:n,discard:s}),this.notifyPlayer({source:{type:"oppSwitchHands",addNum:n.length,discardNum:s.length}},Is(t)),this.sortHands(t)}async switchHands(t){this.ensureHands(this.state);const{remove:r}=await this.requestPlayer(t,"removeHands",{hands:this.state.hands[t]});for(const n of r){const s=this.state.hands[t].indexOf(n);if(s===-1)throw new Error("bad removed hands");this.state.hands[t].splice(s,1)}this.state.piles[t]=As([...this.state.piles[t],...r]),this.notifyPlayer({source:{type:"oppSwitchHands",removeNum:r.length}},Is(t)),this.drawHands(t)}async switchActive(t,r="notify"){this.ensureActives(this.state);let n=this.state.actives[t];r!=="justNotify"&&({target:n}=await this.requestPlayer(t,"switchActive",{}),this.state.actives[t]=n),r!=="noNotify"&&(this.notifyPlayer({source:{type:"switchActive",target:n}},t),this.notifyPlayer({source:{type:"switchActive",target:n+3}},Is(t)))}createFacade(t){if(!("hands"in this.state))throw new Error("bad state");return{pileNumber:this.state.piles[t].length,hands:this.state.hands[t],active:"actives"in this.state?this.state.actives[t]:void 0,characters:this.state.characters[t].map(r=>r.toFacade()),combatStatuses:this.state.combatStatuses[t],supports:this.state.supports[t],summons:this.state.summons[t],dice:"dice"in this.state?this.state.dice[t]:[],oppPileNumber:this.state.piles[1-t].length,oppHandsNumber:this.state.hands[1-t].length,oppActive:"actives"in this.state?this.state.actives[1-t]:void 0,oppCharacters:this.state.characters[1-t].map(r=>r.toFacade()),oppCombatStatuses:this.state.combatStatuses[1-t],oppSupports:this.state.supports[1-t],oppSummons:this.state.summons[1-t],oppDiceNumber:"dice"in this.state?this.state.dice[1-t].length:0}}async run(){for(;this.state.type!=="gameEnd";)await this.next();return this.state}}function ng(e){return new rg(e).run()}const sg={class:"flex flex-col gap-1"},ig=fn({__name:"Chessboard",setup(e){const t=nn(null),r=nn(null),n={characters:[0,1,2],piles:[0,1,2,3,4,5,6,7,8,9]},s={characters:[0,0,0],piles:[10,11,12,13,14,15,16,17,18,19]};function i(){if(!t.value||!r.value){alert("c0 or c1 is not ready");return}ng({pvp:!0,players:[t.value.player,r.value.player]})}return mi(()=>{}),(o,a)=>(Lt(),Pr(ct,null,[hr("button",{class:"bg-blue-300 p-2",onClick:a[0]||(a[0]=l=>i())},"START"),hr("div",sg,[it(Jo,{ref_key:"c1",ref:r,playerId:"B",characters:n.characters,piles:s.piles},null,8,["characters","piles"]),it(Jo,{ref_key:"c0",ref:t,playerId:"A",characters:s.characters,piles:n.piles},null,8,["characters","piles"])])],64))}}),og=fn({__name:"App",setup(e){return(t,r)=>(Lt(),vi(ig))}});id(og).mount("#app")});export default ag();
